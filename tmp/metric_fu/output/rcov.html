<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
    <meta content='en' http-equiv='Content-Language' />
    <title>metrics</title>
    <style>
    /*
Copyright (c) 2008, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.5.2
*/
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:normal;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym {border:0;font-variant:normal;}sup {vertical-align:text-top;}sub {vertical-align:text-bottom;}input,textarea,select{font-family:inherit;font-size:inherit;font-weight:inherit;}input,textarea,select{*font-size:100%;}legend{color:#000;}

    /* --------------------------------------------------------------

   buttons.css
   * Gives you some great CSS-only buttons.

   Created by Kevin Hale [particletree.com]
   * particletree.com/features/rediscovering-the-button-element

   See Readme.txt in this folder for instructions.

-------------------------------------------------------------- */

button {
  display:block;
  float:left;
  margin:0 0.583em 0.667em 0;
  padding:5px 10px 5px 7px;   /* Links */

  border:1px solid #dedede;
  border-top:1px solid #eee;
  border-left:1px solid #eee;

  background-color:#f5f5f5;
  font-family:"Lucida Grande", Tahoma, Arial, Verdana, sans-serif;
  font-size:100%;
  line-height:130%;
  text-decoration:none;
  font-weight:bold;
  color:#565656;
  cursor:pointer;
}
button {
  width:auto;
  overflow:visible;
  padding:4px 10px 3px 7px;   /* IE6 */
}
button[type] {
  padding:4px 10px 4px 7px;   /* Firefox */
  line-height:17px;           /* Safari */
}
*:first-child+html button[type] {
  padding:4px 10px 3px 7px;   /* IE7 */
}
button img {
  margin:0 3px -3px 0 !important;
  padding:0;
  border:none;
  width:16px;
  height:16px;
  float:none;
}


/* Button colors
-------------------------------------------------------------- */

/* Standard */
button:hover {
  background-color:#dff4ff;
  border:1px solid #c2e1ef;
  color:#336699;
}

/* Positive */
body .positive {
  color:#529214;
}
button.positive:hover {
  background-color:#E6EFC2;
  border:1px solid #C6D880;
  color:#529214;
}

/* Negative */
body .negative {
  color:#d12f19;
}
button.negative:hover {
  background:#fbe3e4;
  border:1px solid #fbc2c4;
  color:#d12f19;
}

    html {
  background-color: #e0e0e0; }

body {
  font-size: 100%;
  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
  color: #333333; }

a {
  color: #ed1556;
  text-decoration: none; }
  a:hover {
    color: #ffffff;
    background-color: #ed1556; }

#header, #content, #footer {
  margin: 0 auto;
  background: #eeeeee;
  padding: 0 2em;
  z-index: 0;
  position: relative;
  font-size: 1em; }

#header {
  background: #ffffff; }
  #header h1 {
    font-weight: bold;
    font-size: 1.5em; }
  #header address.watermark {
    position: absolute;
    font-weight: bold;
    right: 3em;
    top: 0;
    font-size: .75em;
    color: #cccccc; }
    #header address.watermark a {
      color: #cccccc;
      font-weight: bold;
      font-size: 2em; }
      #header address.watermark a:hover {
        background: transparent;
        color: #aaaaaa; }

#content {
  padding-top: 1em;
  padding-bottom: 2em; }
  #content strong {
    font-weight: bold; }
  #content em {
    font-style: italic; }
  #content h1, #content h2, #content h3, #content h4, #content h5, #content h6 {
    color: #4e4e4e; }
  #content h1 {
    font-size: 2em;
    font-weight: bold;
    margin-bottom: .75em;
    padding: .25em 0;
    line-height: 1.2;
    border-bottom: 1px solid #c0c0c0; }
  #content h2 {
    font-weight: bold;
    font-size: 1.5em;
    margin: 1em 0 .2em; }
  #content h3 {
    font-weight: bold;
    font-size: 1.25em;
    margin: .25em 0; }
  #content h4, #content h5, #content h6 {
    font-weight: bold;
    margin-top: .5em; }
  #content code, #content pre, #content textarea, #content input {
    font-family: Monaco, Deja Vu Sans Mono, Inconsolata, Consolas, monospace; }
  #content form p {
    margin-top: 1em;
    position: relative; }
    #content form p.checkbox label {
      margin-top: 0 !important; }
  #content form input.text, #content form textarea {
    width: 30em;
    padding: .2em .4em;
    color: #4e4e4e; }
  #content form input.text {
    height: 1.4em; }
  #content form label {
    float: left;
    display: block;
    margin-top: .5em;
    width: 8em;
    margin-right: .75em; }
  #content form .with_errors label {
    background: red;
    color: white;
    position: relative;
    top: -.7em; }
  #content form .with_errors.required label {
    position: static;
    margin-right: .25em;
    padding: 0 .2em; }
  #content form .with_errors input, #content form .with_errors textarea {
    border: 2px solid #f22;
    background: #fee;
    color: #222222; }
  #content form .required label {
    float: none;
    display: block;
    width: auto;
    position: relative;
    font-weight: bold;
    margin-top: 1em;
    text-indent: -.65em; }
    #content form .required label:before {
      content: "* ";
      color: #ed1556; }
  #content form .required input.text {
    width: 25.6em;
    font-size: 24px;
    font-weight: bold; }
  #content form .normal {
    margin-top: 2em; }
  #content form h2.notifier label {
    float: none;
    width: auto;
    margin-right: 0; }
    #content form h2.notifier label .warning {
      font-size: .5em;
      font-weight: normal;
      color: #999999; }
  #content form fieldset {
    padding-bottom: 1em;
    margin-left: 1.35em;
    border-bottom: 1px solid #c0c0c0;
    margin-bottom: 1em; }
    #content form fieldset h3 {
      margin-top: 1em;
      margin-bottom: 0; }
    #content form fieldset p.normal {
      margin-top: 1em; }
    #content form fieldset p label {
      width: 6.7em; }
  #content form p.submit {
    margin-top: 2em; }
    #content form p.submit:after {
      display: block;
      clear: both;
      float: none;
      content: ".";
      text-indent: -9999em;
      text-align: left; }
    #content form p.submit.destroy button,     #content form p.submit.manual-build button {
      float: none;
      display: inline; }
    #content form p.submit.manual-build button {
      margin-right: 0; }
  #content #build form, #content #last_build form {
    font-size: .75em; }
    #content #build form p.submit,     #content #last_build form p.submit {
      margin: 0;
      padding: 0;
      position: absolute;
      right: .5em;
      top: 1.25em; }
  #content .blank_slate p,   #content .error p {
    position: relative;
    top: .3em; }
  #content .blank_slate h1,   #content .error h1 {
    border-width: 0;
    margin: 0;
    padding: 0; }
    #content .blank_slate h1 button,     #content .error h1 button {
      float: none;
      border: 0 none;
      background: transparent;
      display: inline;
      color: #ed1556;
      padding: 0.25em 0;
      margin: 0; }
      #content .blank_slate h1 button:hover,       #content .error h1 button:hover {
        background: #ed1556;
        color: #ffffff; }
  #content .error dt {
    margin-top: 1.4em;
    margin-bottom: .3em;
    font-size: 1.75em;
    font-family: Georgia, Times New Roman, serif; }
  #content .error dd {
    line-height: 1.4; }
  #content .error .backtrace {
    margin: 1em 0;
    overflow: scroll;
    height: 30em;
    border: 1px solid #c0c0c0;
    line-height: 1.6; }
  #content #projects {
    margin: 1em 0 2em;
    border-top: 1px solid #c0c0c0; }
    #content #projects li {
      position: relative;
      border-bottom: 1px solid #c0c0c0; }
      #content #projects li.odd {
        background: #e6e6e6; }
      #content #projects li.building {
        background: transparent url(/spinner.gif) no-repeat scroll right; }
      #content #projects li a {
        font-size: 2em;
        padding: .25em;
        line-height: 1.2;
        font-weight: bold;
        display: block; }
        #content #projects li a.success {
          color: #337022; }
        #content #projects li a.failed {
          color: #ff1100; }
      #content #projects li .meta {
        position: absolute;
        right: .6em;
        top: 1.5em;
        font-size: 0.8em;
        color: #999999;
        text-align: right; }
      #content #projects li.building .meta {
        right: 1.6em; }
      #content #projects li.success .meta {
        color: #337022; }
      #content #projects li.failed .meta {
        color: #ff1100; }
  #content #previous_builds li a {
    display: block;
    padding: .25em;
    margin-bottom: .25em;
    border-width: 1px;
    border-style: solid; }
    #content #previous_builds li a strong {
      font-size: 1.3em; }
    #content #previous_builds li a .attribution {
      font-size: .9em; }
  #content #projects li.success a,   #content #previous_builds li.success a {
    background-color: #bbf8aa;
    border-color: #99d688;
    color: #337022; }
    #content #projects li.success a .attribution,     #content #previous_builds li.success a .attribution {
      color: #77b466; }
    #content #projects li.success a:hover,     #content #previous_builds li.success a:hover {
      background-color: #ddffcc; }
  #content #projects li.failed a,   #content #previous_builds li.failed a {
    background-color: #ffbbaa;
    border-color: #dd9988;
    color: #ff1100; }
    #content #projects li.failed a .attribution,     #content #previous_builds li.failed a .attribution {
      color: #bb7766; }
    #content #projects li.failed a:hover,     #content #previous_builds li.failed a:hover {
      background-color: #ffddcc; }
  #content #build, #content #last_build {
    position: relative; }
    #content #build h1, #content #build blockquote,     #content #last_build h1, #content #last_build blockquote {
      border-width: 0 1px;
      border-style: solid; }
    #content #build h1,     #content #last_build h1 {
      border-top-width: 1px; }
    #content #build blockquote,     #content #last_build blockquote {
      bottom-bottom-width: 1px;
      line-height: 1.4; }
    #content #build.success h1, #content #build.success blockquote,     #content #last_build.success h1, #content #last_build.success blockquote {
      background-color: #bbf8aa;
      border-color: #99d688 #ccffbb #ccffbb #99d688; }
    #content #build.success h1,     #content #last_build.success h1 {
      color: #337022; }
    #content #build.success .meta,     #content #last_build.success .meta {
      color: #77b466; }
    #content #build.failed h1, #content #build.failed blockquote,     #content #last_build.failed h1, #content #last_build.failed blockquote {
      background-color: #ffbbaa;
      border-color: #dd9988 #ffccbb #ffccbb #dd9988; }
    #content #build.failed h1,     #content #last_build.failed h1 {
      color: #ff1100; }
    #content #build.failed .meta,     #content #last_build.failed .meta {
      color: #bb7766; }
    #content #build h1,     #content #last_build h1 {
      margin-top: .5em;
      margin-bottom: 0;
      padding: .25em;
      color: #337022; }
    #content #build blockquote,     #content #last_build blockquote {
      padding: .75em;
      margin-bottom: 2em; }
      #content #build blockquote .meta,       #content #last_build blockquote .meta {
        margin-top: 1em;
        display: block;
        font-size: .9em; }
    #content #build pre.output,     #content #last_build pre.output {
      background: #111;
      color: #fff;
      padding: .5em;
      overflow: auto;
      max-height: 50em;
      font-size: .825em; }
      #content #build pre.output .color30,       #content #last_build pre.output .color30 {
        color: #333; }
      #content #build pre.output .color31,       #content #last_build pre.output .color31 {
        color: #e33; }
      #content #build pre.output .color32,       #content #last_build pre.output .color32 {
        color: #3e3; }
      #content #build pre.output .color33,       #content #last_build pre.output .color33 {
        color: #ee3; }
      #content #build pre.output .color34,       #content #last_build pre.output .color34 {
        color: #33e; }
      #content #build pre.output .color35,       #content #last_build pre.output .color35 {
        color: #e3e; }
      #content #build pre.output .color36,       #content #last_build pre.output .color36 {
        color: #3ee; }
      #content #build pre.output .color37,       #content #last_build pre.output .color37 {
        color: #fff; }
  #content #push_path {
    display: block;
    margin-top: 1em;
    margin-left: 2em; }

a.success {
  color: #bbf8aa; }
  a.success:hover {
    background-color: #bbf8aa;
    color: white; }
a.failed {
  color: #ffbbaa; }
  a.failed:hover {
    background-color: #ffbbaa;
    color: white; }

#footer {
  padding: 1.5em 2.5em;
  border-top: 1px solid #ccc;
  font-size: .8em;
  color: #666;
  text-align: right; }
  #footer strong {
    font-weight: bold; }
    
    table {
  margin-top: 20px;
  border-collapse: collapse;
  border: 1px solid #666;
  background: #fff;
  margin-bottom: 20px;
}

table tr.light {
   background: #fff;
}

table tr.dark {
  background: #f9f9f9;
}

table tr:hover {
  background: #FFFFC0;
}

table td, table th {
  padding: 4px;
  font-size: 11px;
}
table th {
  text-align: center;
  color: #337022;
  background: #DDFFCC;
  font-weight: bold;
  border: #99D688 1px solid;
}

table td {
  border: #d0d0d0 1px solid;
}

table td.score {
  text-align: right;
}

.warning {
  background: yellow;
}
.rcov_code td {
  border-bottom: 1px solid #ddd ;
  padding: 0;
  margin: 0;
}
.rcov_code tr {
  border: 0px;
  padding:0px;
  margin: 0px;
}
.rcov_code pre {
  border: 0px;
  padding: 0px;
  margin: 0px;
}
.rcov_run {}
.rcov_not_run {
  background-color: #d88;
}
.rcov_run a, .rcov_not_run a {
  text-decoration: none;
}
.rcov_run a {
  color: #333;
}
.rcov_not_run a {
  color: #000;
}
.rcov_overflow {
  overflow: auto;
  font-size: 50%;
}

.bluff-tooltip {
	background: #fff;
	border: 1px solid #d1edf5;
	padding: 8px 8px 6px;
}
.bluff-tooltip .color {
	display: block;
	height: 4px;
	width: 30px;
	margin: 0 0 4px;
	overflow: hidden;
}
.bluff-tooltip .data {
	font-weight: bold;
}

    </style>
    <link REL="SHORTCUT ICON" HREF="/favicon.ico">
    <script language="javascript" src="js-class.js" type="text/javascript"></script>
    <script language="javascript" src="bluff-min.js" type="text/javascript"></script>
    <script language="javascript" src="excanvas.js" type="text/javascript"></script>
  </head>
  <body>
    <div id='header'>
      <h1><a href="/">metrics</a> | <a href="index.html">ElectionManager</a></h1>
      <address class='watermark'>
        built with
        <a href='http://metric-fu.rubyforge.org/'>metric-fu</a>
      </address>
    </div>
    <div id='content'>
      <h3>Rcov Code Coverage Results</h3>

<p>C0 code coverage information.</p>



<canvas id="graph"></canvas>
<script language="javascript" src="rcov.js?1276921164" type="text/javascript"></script>


<p>Total Coverage: 64.3% </p>
<table>
  <tr>
    <th>File Path</th>
    <th>Percent run</th>
  </tr>
  
  
    <tr>
      <td><a href="#app_controllers_contests_controller_rb">app/controllers/contests_controller.rb</a></td>
      <td>18</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ballots_nh_ballot_config_rb">app/ballots/nh/ballot_config.rb</a></td>
      <td>20</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_questions_controller_rb">app/controllers/questions_controller.rb</a></td>
      <td>24</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_candidates_controller_rb">app/controllers/candidates_controller.rb</a></td>
      <td>26</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_maintain_controller_rb">app/controllers/maintain_controller.rb</a></td>
      <td>27</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_notifier_rb">app/models/notifier.rb</a></td>
      <td>28</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_precincts_controller_rb">app/controllers/precincts_controller.rb</a></td>
      <td>29</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_password_resets_controller_rb">app/controllers/password_resets_controller.rb</a></td>
      <td>30</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_user_sessions_controller_rb">app/controllers/user_sessions_controller.rb</a></td>
      <td>31</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_districts_controller_rb">app/controllers/districts_controller.rb</a></td>
      <td>36</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_voting_methods_controller_rb">app/controllers/voting_methods_controller.rb</a></td>
      <td>40</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_district_types_controller_rb">app/controllers/district_types_controller.rb</a></td>
      <td>41</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_election_rb">app/models/election.rb</a></td>
      <td>41</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_jurisdictions_controller_rb">app/controllers/jurisdictions_controller.rb</a></td>
      <td>43</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_district_sets_controller_rb">app/controllers/district_sets_controller.rb</a></td>
      <td>48</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_media_controller_rb">app/controllers/media_controller.rb</a></td>
      <td>49</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_elections_controller_rb">app/controllers/elections_controller.rb</a></td>
      <td>49</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_ballot_style_templates_controller_rb">app/controllers/ballot_style_templates_controller.rb</a></td>
      <td>50</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ttv_translate_rb">app/ttv/translate.rb</a></td>
      <td>50</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_languages_controller_rb">app/controllers/languages_controller.rb</a></td>
      <td>50</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_ballot_styles_controller_rb">app/controllers/ballot_styles_controller.rb</a></td>
      <td>50</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_parties_controller_rb">app/controllers/parties_controller.rb</a></td>
      <td>51</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_users_controller_rb">app/controllers/users_controller.rb</a></td>
      <td>51</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ttv_pdf_ballot_style_rb">app/ttv/pdf_ballot_style.rb</a></td>
      <td>55</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_precincts_helper_rb">app/helpers/precincts_helper.rb</a></td>
      <td>57</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_user_context_rb">app/models/user_context.rb</a></td>
      <td>70</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ttv_abstract_ballot_rb">app/ttv/abstract_ballot.rb</a></td>
      <td>76</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_user_session_rb">app/models/user_session.rb</a></td>
      <td>82</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_application_helper_rb">app/helpers/application_helper.rb</a></td>
      <td>83</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_question_rb">app/models/question.rb</a></td>
      <td>83</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ttv_yaml_import_rb">app/ttv/yaml_import.rb</a></td>
      <td>84</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ballots_default_ballot_config_rb">app/ballots/default/ballot_config.rb</a></td>
      <td>86</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ttv_import_export_rb">app/ttv/import_export.rb</a></td>
      <td>87</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_user_rb">app/models/user.rb</a></td>
      <td>88</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ttv_scanner_rb">app/ttv/scanner.rb</a></td>
      <td>88</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_voting_method_rb">app/models/voting_method.rb</a></td>
      <td>89</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_contest_rb">app/models/contest.rb</a></td>
      <td>90</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_precinct_rb">app/models/precinct.rb</a></td>
      <td>92</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_controllers_application_controller_rb">app/controllers/application_controller.rb</a></td>
      <td>95</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_media_helper_rb">app/helpers/media_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_district_types_helper_rb">app/helpers/district_types_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_district_type_rb">app/models/district_type.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_user_sessions_helper_rb">app/helpers/user_sessions_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_jurisdiction_helper_rb">app/helpers/jurisdiction_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_districts_helper_rb">app/helpers/districts_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_ballot_style_template_rb">app/models/ballot_style_template.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_district_sets_helper_rb">app/helpers/district_sets_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_candidates_helper_rb">app/helpers/candidates_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_user_role_rb">app/models/user_role.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_ballot_styles_helper_rb">app/helpers/ballot_styles_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ballots_aiga_ballot_config_rb">app/ballots/aiga/ballot_config.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_ability_rb">app/models/ability.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_users_helper_rb">app/helpers/users_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_district_rb">app/models/district.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_district_set_rb">app/models/district_set.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_language_rb">app/models/language.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_ttv_yaml_export_rb">app/ttv/yaml_export.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_questions_helper_rb">app/helpers/questions_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_elections_helper_rb">app/helpers/elections_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_medium_rb">app/models/medium.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_contests_helper_rb">app/helpers/contests_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_parties_helper_rb">app/helpers/parties_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_ballot_style_templates_helper_rb">app/helpers/ballot_style_templates_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_party_rb">app/models/party.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_voting_methods_helper_rb">app/helpers/voting_methods_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_ballot_style_rb">app/models/ballot_style.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_maintain_helper_rb">app/helpers/maintain_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_models_candidate_rb">app/models/candidate.rb</a></td>
      <td>100</td>
    </tr>
    
  
    <tr>
      <td><a href="#app_helpers_languages_helper_rb">app/helpers/languages_helper.rb</a></td>
      <td>100</td>
    </tr>
    
  
</table>


  <h2 id="app_controllers_contests_controller_rb"> app/controllers/contests_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=1'><pre>   class ContestsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=3'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=4'><pre>       @contests = Contest.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=5'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=7'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=8'><pre>       @contest = Contest.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=9'><pre>       current_context.contest = @contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=10'><pre>       @candidates = @contest.candidates.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=11'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=12'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=13'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=14'><pre>       @contest = Contest.new(:election_id => params[:election_id], :district_id => params[:district_id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=15'><pre>       render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=16'><pre>         editor_id = "#{dom_id(@contest.district)}_contests_new"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=17'><pre>         page << "if (!$('#{editor_id}')) {"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=18'><pre>         page.insert_html :after, "#{dom_id(@contest.district)}_static", :partial => 'new.html.erb', :locals => { :contest => @contest }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=19'><pre>         page << "}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=20'><pre>       end if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=21'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=22'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=23'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=24'><pre>       @contest = Contest.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=25'><pre>       render :partial => 'edit', :locals => { :contest => @contest } if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=26'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=27'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=28'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=29'><pre>       @contest = Contest.new(params[:contest])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=30'><pre>       success = @contest.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=31'><pre>       flash[:notice] = "Contest '" + @contest.display_name + "' has been created." if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=32'><pre>       if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=33'><pre>         render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=34'><pre>            if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=35'><pre>              page.replace("#{dom_id(@contest.district)}_contests_new", "")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=36'><pre>              page.replace "#{dom_id(@contest.district)}_contests", :partial => 'districts/contests', :locals => { :district => @contest.district, :election => @contest.election } </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=37'><pre>            else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=38'><pre>              page.replace "#{dom_id(@contest)}_contests_new", :partial => 'contests/new.html.erb', :locals => {:contest => @contest }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=39'><pre>            end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=40'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=41'><pre>       elsif success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=42'><pre>         redirect_to(@contest)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=43'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=44'><pre>         render :action => "new"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=45'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=46'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=47'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=48'><pre>     # not a standard rails update. Here we handle two cases:</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=49'><pre>     # - creation of new candidates : return only candidates with errors</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=50'><pre>     # - update of existing contest's attributes</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=51'><pre>     # They are mutually exclusive in our ui, and have different display requirements</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=52'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=53'><pre>       if params[:contest][:display_name]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=54'><pre>         update_contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=55'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=56'><pre>         update_attributes</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=57'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=58'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=59'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=60'><pre>     def update_contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=61'><pre>       @contest = Contest.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=62'><pre>       success =  @contest.update_attributes(params[:contest])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=63'><pre>       flash[:notice] = "Contest '" + @contest.display_name + "' was updated." if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=64'><pre>       if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=65'><pre>         edit_id = "#{dom_id(@contest)}_edit"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=66'><pre>         static_id = "#{dom_id(@contest)}_static"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=67'><pre>         render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=68'><pre>           if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=69'><pre>             page.remove edit_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=70'><pre>             page.replace static_id, :partial => 'static', :locals => { :contest => @contest }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=71'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=72'><pre>             page.replace edit_id, :partial => 'edit', :locals => { :contest => contest }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=73'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=74'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=75'><pre>       elsif success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=76'><pre>         redirect_to @contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=77'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=78'><pre>         render :action => 'edit'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=79'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=80'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=81'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=82'><pre>     def update_attributes</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=83'><pre>       raise "No updating of attributes withou AJAX" if !request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=84'><pre>       @contest = Contest.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=85'><pre>       howMany = @contest.candidates.length;</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=86'><pre>       success = @contest.update_attributes(params[:contest])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=87'><pre>       howMany = @contest.candidates.length - howMany;</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=88'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=89'><pre>       error_candidates = @contest.candidates.to_a.find_all { |c| c.invalid? }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=90'><pre>       flash[:notice] = pluralize(howMany, 'candidate has', 'candidates have') + " been created." if error_candidates.length == 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=91'><pre>       render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=92'><pre>         if error_candidates.length == 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=93'><pre>           page.replace("#{dom_id(@contest)}_candidates_new", "")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=94'><pre>           page.replace "#{dom_id(@contest)}_candidates", :partial => 'candidates', :locals => { :contest => @contest } </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=95'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=96'><pre>           page.replace "#{dom_id(@contest)}_candidates_new", :partial => 'candidates/new.html.erb', :locals => {:model => error_candidates }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=97'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=98'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=99'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=100'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=101'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=102'><pre>       @contest = Contest.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=103'><pre>       display_name = @contest.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=104'><pre>       district = @contest.district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=105'><pre>       election = @contest.election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=106'><pre>       @contest.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=107'><pre>       flash[:notice] = "Contest #{display_name} has been deleted." </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=108'><pre>       if request.xhr? # coming from editor, replace contest list</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=109'><pre>         render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=110'><pre>           page.replace("#{dom_id(district)}_contests", :partial => 'districts/contests.html.erb', </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=111'><pre>             :locals => {:district => district, :election => election })</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=112'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=113'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=114'><pre>         redirect_to(contests_url)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=115'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=116'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=117'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=118'><pre>     def move</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=119'><pre>       @contest = Contest.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=120'><pre>       direction = params[:direction] == "up"?"up":"down"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=121'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=122'><pre>       contests = @contest.election.contests</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=123'><pre>       contests.sort!{|c1,c2|c1.position <=> c2.position}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=124'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=125'><pre>       contest_index = contests.index @contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=126'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=127'><pre>       if (contest_index == 0 and direction == "up") or (contest_index == contests.length - 1 and direction == "down") </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=128'><pre>         flash[:error] = "Contest ##{@contest.id}, \"#{@contest.display_name}\", cannot be moved further " + direction</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=129'><pre>         render :partial => 'contests/contest_list', :locals => {:election => @contest.election, :page => params[:page]} </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=130'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=131'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=132'><pre>         # Reordering logic goes here</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=133'><pre>         # Squish all order numbers</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=134'><pre>         contests.each do |cont|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=135'><pre>           cont.update_attributes(:position => (contests.index cont))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=136'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=137'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=138'><pre>         old_order = @contest.position</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=139'><pre>         if direction == "up"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=140'><pre>           contests[contest_index].update_attributes(:position => contests[contest_index-1].position)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=141'><pre>           contests[contest_index-1].update_attributes(:position => old_order)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=142'><pre>         else # direction == "down"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=143'><pre>           contests[contest_index].update_attributes(:position => contests[contest_index+1].position)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=144'><pre>           contests[contest_index+1].update_attributes(:position => old_order)      </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=145'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=146'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=147'><pre>         flash[:notice] = "Contest ##{@contest.id}, \"#{@contest.display_name}\", has been moved " + direction</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=148'><pre>         render :partial => 'contests/contest_list', :locals => {:election => @contest.election, :page => params[:page]} </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=149'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=150'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/contests_controller.rb&line=151'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ballots_nh_ballot_config_rb"> app/ballots/nh/ballot_config.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=1'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=2'><pre>   # NhBallot implements a columnar office format</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=4'><pre>   require 'ttv/abstract_ballot'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=5'><pre>   require 'ballots/default/ballot_config'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=6'><pre>   require 'prawn'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=7'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=8'><pre>   module NhBallot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=9'><pre>     include AbstractBallot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=10'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=11'><pre>     class FlowItem </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=12'><pre>       TINY_FONT = 7</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=13'><pre>       SMALL_FONT = 9</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=14'><pre>       BIG_FONT = 11</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=15'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=16'><pre>       class NHContest < DefaultBallot::FlowItem::Contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=17'><pre>         def initialize(item, scanner)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=18'><pre>           super</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=19'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=20'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=21'><pre>         # returns height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=22'><pre>         def draw_column(config, rect, candidates)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=23'><pre>          </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=24'><pre>           return 0 if candidates.length == 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=25'><pre>           height = 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=26'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=27'><pre>           draw_party = !(candidates[0].party.idToXml == 'democrat' || candidates[0].party.idToXml == 'republican')</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=28'><pre>           config.pdf.bounding_box [rect.left + HPAD, rect.top], :width => rect.width - HPAD2 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=29'><pre>             candidates.each_index do |i|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=30'><pre>               candidate = candidates[i]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=31'><pre>               config.pdf.move_down VPAD2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=32'><pre>             </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=33'><pre>               # Render name of candidate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=34'><pre>               config.pdf.bounding_box [0, 0], :width => 80 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=35'><pre>                 config.pdf.font "Helvetica", :size => BIG_FONT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=36'><pre>                 name = config.et.get(candidate, :display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=37'><pre>                 name = name.sub(" and ", "\n") # hack to split joint names to two lines, wont work i10n</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=38'><pre>                 name = name </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=39'><pre>                 config.pdf.move_down 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=40'><pre>                 config.pdf.text name, :align => :left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=41'><pre>                 config.pdf.move_down 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=42'><pre>               end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=43'><pre>               #OVAL BOX TO THE RIGHT OF THE CANDIDATE NAME</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=44'><pre>               config.pdf.bounding_box [75,20], :width => 20 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=45'><pre>                  config.stroke_checkbox</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=46'><pre>                end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=47'><pre>                config.pdf.move_down 12</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=48'><pre>                </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=49'><pre>                # PARTY NAME FOR CANDIDATE</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=50'><pre>                if draw_party</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=51'><pre>                  config.pdf.font "Helvetica", :size => SMALL_FONT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=52'><pre>                  config.pdf.text config.et.get(candidate.party, :display_name), :align => :left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=53'><pre>                end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=54'><pre>        </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=55'><pre>               config.pdf.line [0, 0], [rect.width - HPAD2, 0] unless (i == candidates.length - 1)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=56'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=57'><pre>             height = config.pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=58'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=59'><pre>           return height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=60'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=61'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=62'><pre>         def draw_writein_column(config, rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=63'><pre>           height = 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=64'><pre>           config.pdf.font "Helvetica", :size => TINY_FONT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=65'><pre>           config.pdf.bounding_box [rect.left, rect.top], :width => rect.width do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=66'><pre>             @item.open_seat_count.times do </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=67'><pre>               config.pdf.move_down 30</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=68'><pre>               config.pdf.text config.et.get(@item, :display_name), :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=69'><pre>               config.pdf.line [0, 0], [rect.width, 0]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=70'><pre>               config.pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=71'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=72'><pre>             height = config.pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=73'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=74'><pre>           height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=75'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=76'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=77'><pre>         def draw(config, rect, &bloc)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=78'><pre>           reset_ballot_marks</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=79'><pre>           top = rect.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=80'><pre>           # draw candidates first, to figure out max height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=81'><pre>           democrats = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=82'><pre>           republicans = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=83'><pre>           others = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=84'><pre>           @item.candidates.each do |candidate|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=85'><pre>             case </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=86'><pre>             when candidate.party.idToXml == 'democrat' then democrats.push candidate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=87'><pre>             when candidate.party.idToXml == 'republican' then republicans.push candidate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=88'><pre>             else others.push candidate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=89'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=90'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=91'><pre>           # draw candidates</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=92'><pre>           r = rect.clone</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=93'><pre>           r.left, r.right = rect.left + config.col_width, rect.left + config.col_width * 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=94'><pre>           height = draw_column(config, r, democrats)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=95'><pre>           r.left, r.right = rect.left + config.col_width * 2, rect.left + config.col_width * 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=96'><pre>           height = [height, draw_column(config, r, others)].max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=97'><pre>           r.left, r.right = rect.left + config.col_width * 3, rect.left + config.col_width * 4</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=98'><pre>           height = [height, draw_column(config, r, republicans)].max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=99'><pre>           r.left, r.right = rect.left + config.col_width * 4, rect.left + config.col_width * 5</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=100'><pre>           height = [height, draw_writein_column(config, r)].max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=101'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=102'><pre>           # OFFICES</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=103'><pre>             config.pdf.bounding_box [rect.left+HPAD, rect.top], :width => config.col_width - HPAD2 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=104'><pre>             config.pdf.move_down VPAD2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=105'><pre>             config.pdf.font "Helvetica", :size => TINY_FONT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=106'><pre>             config.pdf.text config.bt[:For]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=107'><pre>             config.pdf.font "Helvetica", :size => BIG_FONT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=108'><pre>             config.pdf.text config.et.get(@item, :display_name), :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=109'><pre>             config.pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=110'><pre>             config.pdf.font "Helvetica", :size => TINY_FONT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=111'><pre>             config.pdf.text config.short_instructions(@item), :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=112'><pre>             height = [height, config.pdf.bounds.height].max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=113'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=114'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=115'><pre>           # draw vertical bars</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=116'><pre>           config.pdf.bounding_box [rect.left, rect.top], :width => rect.width, :height =>height do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=117'><pre>             4.times do |i|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=118'><pre>               config.pdf.line [config.col_width * (i+1), 0], [config.col_width * (i+1), height]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=119'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=120'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=121'><pre>           rect.top -= height;</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=122'><pre>           #puts "height was #{height} for item #{@item}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=123'><pre>           config.pdf.stroke_line [rect.left, rect.top], [rect.right, rect.top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=124'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=125'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=126'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=127'><pre>       end # class NHContest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=128'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=129'><pre>     end # class FlowItem</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=130'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=131'><pre>     class BallotConfig < DefaultBallot::BallotConfig</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=132'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=133'><pre>       attr_accessor :col_width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=134'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=135'><pre>       def initialize(style, lang, election, scanner, instruction_text, state_seal, state_signature)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=136'><pre>         @instruction_text = instruction_text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=137'><pre>         @state_seal = state_seal</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=138'><pre>         @state_signature = state_signature</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=139'><pre>         @checkbox_orientation = :right</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=140'><pre>         @columns = 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=141'><pre>         super</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=142'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=143'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=144'><pre>       def col_loc(i)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=145'><pre>         @col_left + i * @col_width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=146'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=147'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=148'><pre>       def render_header(flow_rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=149'><pre>         @pdf.font "Helvetica", :size => 14,  :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=150'><pre>         @col_headers = ["OFFICES", "DEMOCRATIC CANDIDATES", "OTHER CANDIDATES", "REPUBLICAN CANDIDATES", "WRITE-IN\nCANDIDATES"]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=151'><pre>         @col_width = flow_rect.width / @col_headers.length</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=152'><pre>         @col_left = flow_rect.left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=153'><pre>         @header_height = 40</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=154'><pre>         @col_headers.length.times do |i|            </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=155'><pre>           #640 BELOW IS THE TOP LOCATION OF THE COLUMN HEADERS, NEED TO PARAMATIZE THIS</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=156'><pre>           @pdf.bounding_box [col_loc(i), 640], :width => @col_width, :height => @header_height do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=157'><pre>             @pdf.fill_color '000000'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=158'><pre>             @pdf.stroke_color 'FFFFFF'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=159'><pre>             @pdf.rectangle [0, 0], @col_width, -@header_height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=160'><pre>             @pdf.line([@col_width, 0], [@col_width, @header_height]) </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=161'><pre>             @pdf.fill_and_stroke</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=162'><pre>             @pdf.fill_color 'FFFFFF'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=163'><pre>             @pdf.text_box @col_headers[i], :at => [0, @header_height - 6], :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=164'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=165'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=166'><pre>         flow_rect.top = 600  #TOP LOCATION OF COLUMNS </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=167'><pre>         @pdf.stroke_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=168'><pre>         @pdf.fill_color '000000'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=169'><pre>         @pdf.stroke_line [flow_rect.left, flow_rect.top], [flow_rect.right, flow_rect.top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=170'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=171'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=172'><pre>       def render_column_instructions(columns, page)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=173'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=174'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=175'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=176'><pre>       def stroke_checkbox(pt = [0,0])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=177'><pre>         @pdf.line_width 1.5</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=178'><pre>         @pdf.fill_color "FFFFFF"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=179'><pre>         @pdf.stroke_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=180'><pre>         @pdf.ellipse_at [pt[0]+ CHECKBOX_WIDTH / 2, pt[1] - CHECKBOX_HEIGHT / 2 ] , CHECKBOX_WIDTH/ 2, CHECKBOX_HEIGHT / 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=181'><pre>         @pdf.fill_and_stroke</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=182'><pre>         @pdf.fill_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=183'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=184'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=185'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=186'><pre>       def page_complete(pagenum, last_page)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=187'><pre>         #unless last_page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=188'><pre>           #BALLOT TITLE ON TOP LEFT BALLOT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=189'><pre>           @pdf.bounding_box [ 20, @pdf.bounds.height], :width => 150 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=190'><pre>                @pdf.font "Helvetica", :size => 10, :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=191'><pre>                @pdf.text ballot_translation[:Title_Text], :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=192'><pre>                state_signature = "#{RAILS_ROOT}/public/images/state_graphics/#{@state_signature}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=193'><pre>                @pdf.image state_signature, :at => [20,@pdf.bounds.height - 55], :width => 100, :height => 30</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=194'><pre>              @pdf.bounding_box [ 135 , @pdf.bounds.height - 45], :width => 150 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=195'><pre>               state_seal = "#{RAILS_ROOT}/public/images/state_graphics/#{@state_seal}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=196'><pre>               @pdf.image state_seal, :at => [0,@pdf.bounds.height + 40], :width => 80, :height => 80</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=197'><pre>              end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=198'><pre>            end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=199'><pre>           #INSTRUCTIONS ON TOP OF BALLOT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=200'><pre>           @pdf.bounding_box [ 240 , @pdf.bounds.height], :width => 300 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=201'><pre>             @pdf.font "Helvetica", :size => 14, :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=202'><pre>             @pdf.text ballot_translation[:Instruction_To_Voters], :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=203'><pre>             @pdf.font "Helvetica", :size => 8</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=204'><pre>             #@pdf.text ballot_translation[:Instruction_Text1], :align => :left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=205'><pre>             #@pdf.text ballot_translation[:Instruction_Text2], :align => :left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=206'><pre>             @pdf.text @instruction_text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=207'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=208'><pre>           @pdf.bounding_box [ 0 , @pleaseVoteHeight ], :width => @pdf.bounds.width do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=209'><pre>             @pdf.move_down 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=210'><pre>             @pdf.text bt[:Vote_Both_Sides], :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=211'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=212'><pre>         #end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=213'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=214'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=215'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=216'><pre>       def create_flow_item(item)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=217'><pre>         case</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=218'><pre>         when item.is_a?(Contest) then FlowItem::NHContest.new(item, @scanner)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=219'><pre>         when item.is_a?(Question) then super</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=220'><pre>         when item.is_a?(String) then super</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=221'><pre>         when item.is_a?(Array) then item[1] # hack, gets rid of district name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=222'><pre>         else raise "Unknown flow item"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=223'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=224'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=225'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=226'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/nh/ballot_config.rb&line=227'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_questions_controller_rb"> app/controllers/questions_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=1'><pre>   class QuestionsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=3'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=4'><pre>       current_context.reset</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=5'><pre>       @questions = Question.all</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=6'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=7'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=8'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=9'><pre>       @question = Question.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=10'><pre>       current_context.question = @question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=11'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=12'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=13'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=14'><pre>       @question = Question.new(:election_id => params[:election_id], :requesting_district_id => params[:district_id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=15'><pre>       render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=16'><pre>         editor_id = "#{dom_id(@question.district)}_questions_new"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=17'><pre>         page << "if (!$('#{editor_id}')) {"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=18'><pre>         page.insert_html :after, "#{dom_id(@question.district)}_static", :partial => 'new.html.erb', :locals => { :question => @question }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=19'><pre>         page << "}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=20'><pre>       end if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=21'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=22'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=23'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=24'><pre>       @question = Question.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=25'><pre>       render :partial => 'edit', :locals => { :question => @question } if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=26'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=27'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=28'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=29'><pre>       @question = Question.new(params[:question])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=30'><pre>       success = @question.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=31'><pre>       flash[:notice] = "Question '" + @question.display_name + "' has been created." if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=32'><pre>       if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=33'><pre>         render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=34'><pre>           if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=35'><pre>             page.replace("#{dom_id(@question.district)}_questions_new", "")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=36'><pre>             page.replace "#{dom_id(@question.district)}_questions", :partial => 'districts/questions', </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=37'><pre>               :locals => { :district => @question.district, :election => @question.election } </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=38'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=39'><pre>             page.replace "#{dom_id(@question)}_questions_new", :partial => 'question/new.html.erb', </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=40'><pre>               :locals => {:question => @question }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=41'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=42'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=43'><pre>       elsif success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=44'><pre>         redirect_to(@question)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=45'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=46'><pre>         render :action => "new"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=47'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=48'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=49'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=50'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=51'><pre>       @question = Question.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=52'><pre>       success =  @question.update_attributes(params[:question])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=53'><pre>       flash[:notice] = "Question '" + @question.display_name + "' was updated." if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=54'><pre>       if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=55'><pre>         edit_id = "#{dom_id(@question)}_edit"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=56'><pre>         static_id = "#{dom_id(@question)}_static"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=57'><pre>         render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=58'><pre>           if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=59'><pre>             page.remove edit_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=60'><pre>             page.replace static_id, :partial => 'static', :locals => { :question => @question }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=61'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=62'><pre>             page.replace edit_id, :partial => 'edit', :locals => { :question => question }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=63'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=64'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=65'><pre>       elsif success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=66'><pre>         redirect_to @question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=67'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=68'><pre>         render :action => 'edit'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=69'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=70'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=71'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=72'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=73'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=74'><pre>       @question = Question.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=75'><pre>       display_name = @question.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=76'><pre>       district = @question.district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=77'><pre>       election = @question.election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=78'><pre>       @question.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=79'><pre>       flash[:notice] = "Question '#{display_name}' has been deleted." </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=80'><pre>       if request.xhr? # coming from editor, replace question list</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=81'><pre>         render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=82'><pre>           page.replace("#{dom_id(district)}_questions", :partial => 'districts/questions.html.erb', </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=83'><pre>           :locals => {:district => district, :election => election })</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=84'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=85'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=86'><pre>         redirect_to(questions_path)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=87'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=88'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/questions_controller.rb&line=89'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_candidates_controller_rb"> app/controllers/candidates_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=1'><pre>   class CandidatesController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=3'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=4'><pre>       current_context.reset</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=5'><pre>       @candidates = Candidate.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=6'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=7'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=8'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=9'><pre>       @candidate = Candidate.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=10'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=11'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=12'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=13'><pre>       @candidate = Candidate.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=14'><pre>       @candidate.contest_id = params[:contest_id];</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=15'><pre>       raise "Invalid contest. Candidates must be created inside a contest" if params[:contest_id].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=16'><pre>       render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=17'><pre>         editor_id = "#{dom_id(@candidate.contest)}_candidates_new"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=18'><pre>         page.insert_html :after, "#{dom_id(@candidate.contest)}_static", :partial => 'new.html.erb', :locals => { :model => @candidate }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=19'><pre>       end if request.xhr?;</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=20'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=21'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=22'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=23'><pre>       @candidate = Candidate.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=24'><pre>       render :partial => 'edit', :locals => { :candidate => @candidate } if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=25'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=26'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=27'><pre>     # def create -- candidates are created through contests:update nested attributes</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=28'><pre>     # end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=29'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=30'><pre>       @candidate = Candidate.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=31'><pre>       success = @candidate.update_attributes(params[:candidate])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=32'><pre>       flash[:notice] = "Candidate '" + @candidate.display_name + "' was successfully updated." if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=33'><pre>       if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=34'><pre>         edit_id = "#{dom_id(@candidate)}_edit"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=35'><pre>         static_id = "#{dom_id(@candidate)}_static"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=36'><pre>         render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=37'><pre>           if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=38'><pre>             page.remove edit_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=39'><pre>             page.replace static_id, :partial => 'static', :locals => { :candidate => @candidate }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=40'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=41'><pre>             page.replace edit_id, :partial => 'edit', :locals => { :candidate => @candidate }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=42'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=43'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=44'><pre>       elsif success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=45'><pre>         redirect_to @candidate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=46'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=47'><pre>         render :action => "edit"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=48'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=49'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=50'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=51'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=52'><pre>       begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=53'><pre>         @candidate = Candidate.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=54'><pre>         contest = @candidate.contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=55'><pre>         display_name = @candidate.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=56'><pre>         @candidate.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=57'><pre>         flash[:notice] = "Candidate '" + display_name + "' has been deleted."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=58'><pre>         if request.xhr? # coming from contest editor, return all contests</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=59'><pre>           render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=60'><pre>             page.replace("#{dom_id(contest)}_candidates", :partial => 'contests/candidates.html.erb', :locals => {:contest => contest})</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=61'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=62'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=63'><pre>           redirect_to(candidates_url)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=64'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=65'><pre>       rescue => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=66'><pre>         flash[:error] = "Unexpected error: " + ex.message</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=67'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=68'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/candidates_controller.rb&line=69'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_maintain_controller_rb"> app/controllers/maintain_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=1'><pre>   require 'pathname'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=2'><pre>   class MaintainController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=3'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=4'><pre>     def import_file</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=5'><pre>       begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=6'><pre>         if params[:importFile].nil? </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=7'><pre>           flash[:error] = "Import failed because file was not specified."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=8'><pre>           redirect_to :back</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=9'><pre>           return</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=10'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=11'><pre>         if params[:commit] == "XML file"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=12'><pre>           @election = TTV::ImportExport.import(params[:importFile])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=13'><pre>         elsif params[:commit] == "YML file"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=14'><pre>           import_handler = TTV::YAMLImport.new(params[:importFile])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=15'><pre>           @election = import_handler.import</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=16'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=17'><pre>         flash[:notice] = "Election import was successful. Here is your new election."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=18'><pre>         redirect_to @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=19'><pre>       rescue ActionController::RedirectBackError => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=20'><pre>         redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=21'><pre>       rescue Exception => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=22'><pre>         flash[:error] = "Import error: #{ex.message}";</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=23'><pre>         redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=24'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=25'><pre>     end  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=26'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=27'><pre>     def import_batch</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=28'><pre>       begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=29'><pre>         if params[:import_folder_path].length == 0 </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=30'><pre>           flash[:error] = "Import failed because the directory was not specified."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=31'><pre>           redirect_to :back</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=32'><pre>           return</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=33'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=34'><pre>         if params[:commit] == "XML files"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=35'><pre>               import_handler = TTV::ImportExport::Import.new(params[:import_folder_path])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=36'><pre>               @election = import_handler.import_batch</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=37'><pre>         elsif params[:commit] == "YML files"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=38'><pre>           import_handler = TTV::YAMLImport.new(params[:import_folder_path])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=39'><pre>           @election = import_handler.import_batch</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=40'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=41'><pre>         flash[:notice] = "Election import was successful. Here are your elections"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=42'><pre>         redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=43'><pre>       rescue ActionController::RedirectBackError => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=44'><pre>         redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=45'><pre>       rescue Exception => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=46'><pre>         flash[:error] = "Import error: #{ex.message}";</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=47'><pre>         redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=48'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=49'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=50'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=51'><pre>     def export_file       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=52'><pre>       if params[:commit] == "YML file"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=53'><pre>         election = Election.find(params[:election_to_export][:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=54'><pre>         export_obj = TTV::YAMLExport.new(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=55'><pre>         export_obj.do_export</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=56'><pre>         election_hash = export_obj.election_hash</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=57'><pre>         file_contents = YAML.dump(TTV::DataLayer.audit_header_dummy) + YAML.dump(election_hash)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=58'><pre>         send_data file_contents, :content_type => "text", :filename => election.display_name.gsub(' ', '_') + ".yml"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=59'><pre>         flash[:notice] = "Export succeeded."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=60'><pre>       elsif params[:commit] == "XML file"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=61'><pre>         election = Election.find(params[:election_to_export][:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=62'><pre>         xml_builder = TTV::ImportExport.export(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=63'><pre>         send_data xml_builder, :content_type => "text", :filename => election.display_name.gsub(' ', '_') + ".xml"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=64'><pre>         flash[:notice] = "Export succeeded."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=65'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=66'><pre>         flash[:error] = "Apparent bug in Maintain Controller. Call Pito :)"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=67'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=68'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=69'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/maintain_controller.rb&line=70'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_notifier_rb"> app/models/notifier.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=1'><pre>   class Notifier < ActionMailer::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=2'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=3'><pre>     def password_reset_instructions(user)  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=4'><pre>       logger.info("user is #{user}")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=5'><pre>       subject       "TTV Password Reset Instructions"  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=6'><pre>       from "Aleks TTV Totic <a@totic.org>"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=7'><pre>       recipients    user.email  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=8'><pre>       sent_on       Time.now  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=9'><pre>       body          :edit_password_reset_url => edit_password_reset_url(user.perishable_token), :user => user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=10'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=11'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=12'><pre>     def registration_confirmation(user)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=13'><pre>       recipients user.email</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=14'><pre>       from "Aleks TTV Totic <a@totic.org>"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=15'><pre>       subject "Welcome to TTV system"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=16'><pre>       body :user => user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=17'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/notifier.rb&line=18'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_precincts_controller_rb"> app/controllers/precincts_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=1'><pre>   require 'abstract_ballot'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=2'><pre>   require 'rubygems'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=3'><pre>   require 'zip/zip'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=4'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=5'><pre>   CHECKBOX = "\xE2\x98\x90" # "☐"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=7'><pre>   class PrecinctsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=8'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=9'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=10'><pre>       current_context.reset</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=11'><pre>       @precincts = Precinct.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=12'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=13'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=14'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=15'><pre>       @precinct = Precinct.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=16'><pre>       current_context.precinct = @precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=17'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=18'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=19'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=20'><pre>       @precinct = Precinct.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=21'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=22'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=23'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=24'><pre>       @precinct = Precinct.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=25'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=26'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=27'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=28'><pre>       @precinct = Precinct.new(params[:precinct])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=29'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=30'><pre>       if @precinct.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=31'><pre>         flash[:notice] = 'Precinct was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=32'><pre>         redirect_to(@precinct)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=33'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=34'><pre>         render :action => "new" </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=35'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=36'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=37'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=38'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=39'><pre>       @precinct = Precinct.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=40'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=41'><pre>       if @precinct.update_attributes(params[:precinct])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=42'><pre>         flash[:notice] = 'Precinct was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=43'><pre>         redirect_to(@precinct) </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=44'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=45'><pre>         render :action => "edit" </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=46'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=47'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=48'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=49'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=50'><pre>       @precinct = Precinct.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=51'><pre>       @precinct.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=52'><pre>       redirect_to(precincts_url) </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=53'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=54'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=55'><pre>     def ballot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=56'><pre>        election = Election.find(params[:election_id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=57'><pre>        precinct = Precinct.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=58'><pre>        unless election.ballot_style_template_id == nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=59'><pre>          ballot_style_template = BallotStyleTemplate.find(election.ballot_style_template_id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=60'><pre>          begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=61'><pre>                new_ballot = election.render_ballot(election, precinct, ballot_style_template)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=62'><pre>                #RENDER BASED ON MEDIUM CHOSEN   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=63'><pre>                if new_ballot[:medium_id] == 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=64'><pre>                   send_data new_ballot[:pdfBallot], :filename => new_ballot[:fileName], :type => "application/pdf", :disposition => 'attachment'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=65'><pre>                elsif new_ballot[:medium_id] == 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=66'><pre>                  render :text => 'This is where we will generate html ballot'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=67'><pre>                else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=68'><pre>                  flash[:error] = "Please edit ballot style template to include a output a medium and then try again."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=69'><pre>                  redirect_to election_path election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=70'><pre>                end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=71'><pre>           rescue Exception => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=72'><pre>             flash[:error] = "precinct_controller - #{ex.message}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=73'><pre>             redirect_to precincts_election_path election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=74'><pre>          end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=75'><pre>        else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=76'><pre>          flash[:error] = "A Ballot Style Template must be selected for this election before a ballot can be generated."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=77'><pre>          redirect_to election_path election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=78'><pre>        end    </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=79'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=80'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=81'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=82'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=83'><pre>     def ballots</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=84'><pre>        election = Election.find(params[:election_id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=85'><pre>        precincts = election.district_set.precincts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=86'><pre>        </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=87'><pre>        unless election.ballot_style_template_id == nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=88'><pre>          ballot_style_template = BallotStyleTemplate.find(election.ballot_style_template_id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=89'><pre>          begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=90'><pre>           ballots_array = election.render_ballots(election, precincts, ballot_style_template)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=91'><pre>           zipped_ballots = zip_ballots(ballots_array)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=92'><pre>           send_file zipped_ballots, :type => 'application/zip', :disposition => 'application', :filename => "ballots-#{Time.now}.zip"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=93'><pre>          </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=94'><pre>         rescue Exception => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=95'><pre>           flash[:error] = "precinct_controller - #{ex.message}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=96'><pre>           redirect_to precincts_election_path election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=97'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=98'><pre>        else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=99'><pre>          flash[:error] = "A Ballot Style Template must be selected for this election before any ballots can be generated."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=100'><pre>          redirect_to election_path election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=101'><pre>        end    </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=102'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=103'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=104'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=105'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=106'><pre>     def zip_ballots(ballots_array)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=107'><pre>        temp_file = "tmp/ballot_zips/ballots-#{Time.now}.zip"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=108'><pre>        Zip::ZipFile.open(temp_file, Zip::ZipFile::CREATE) {</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=109'><pre>           |zipfile|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=110'><pre>            ballots_array.each do |new_ballot|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=111'><pre>              zipfile.get_output_stream(new_ballot[:fileName]) { |f| f.puts new_ballot[:pdfBallot] }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=112'><pre>            end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=113'><pre>          }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=114'><pre>       return temp_file</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=115'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/precincts_controller.rb&line=116'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_password_resets_controller_rb"> app/controllers/password_resets_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=1'><pre>   class PasswordResetsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=3'><pre>     before_filter :require_no_user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=4'><pre>     before_filter :load_user_using_perishable_token, :only => [:edit, :update]  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=5'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=6'><pre>     def new  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=7'><pre>       render  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=8'><pre>     end  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=9'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=10'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=11'><pre>       render</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=12'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=13'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=14'><pre>     def update  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=15'><pre>       @user.password = params[:user][:password]  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=16'><pre>       @user.password_confirmation = params[:user][:password_confirmation]  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=17'><pre>       if @user.save  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=18'><pre>         flash[:notice] = "Password successfully updated"  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=19'><pre>         redirect_to root_url  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=20'><pre>       else  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=21'><pre>         render :action => :edit  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=22'><pre>       end  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=23'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=24'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=25'><pre>     def create  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=26'><pre>       @user = User.find_by_email(params[:email])  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=27'><pre>       if @user  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=28'><pre>         begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=29'><pre>           @user.deliver_password_reset_instructions!  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=30'><pre>           flash[:notice] = "Instructions to reset your password have been emailed to you. Please check your email."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=31'><pre>         rescue => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=32'><pre>           flash[:error] = "Mailer error. Reset email not sent. You need Ruby 1.8.7 or greater. #{ex.message}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=33'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=34'><pre>         redirect_to root_url  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=35'><pre>       else  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=36'><pre>         flash[:notice] = "No user was found with that email address"  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=37'><pre>         render :action => :new  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=38'><pre>       end  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=39'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=40'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=41'><pre>   private</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=42'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=43'><pre>     def load_user_using_perishable_token  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=44'><pre>        @user = User.find_using_perishable_token(params[:id])  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=45'><pre>        unless @user  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=46'><pre>          flash[:notice] = "We're sorry, but we could not locate your account. " +  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=47'><pre>          "If you are having issues try copying and pasting the URL " +  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=48'><pre>          "from your email into your browser or restarting the " +  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=49'><pre>          "reset password process."  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=50'><pre>          redirect_to root_url  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=51'><pre>        end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=52'><pre>      end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=53'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/password_resets_controller.rb&line=54'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_user_sessions_controller_rb"> app/controllers/user_sessions_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=1'><pre>   # login and password recovery</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=2'><pre>   class UserSessionsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=3'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=4'><pre>       @user_session = UserSession.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=5'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=6'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=7'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=8'><pre>       @user_session = UserSession.new(params[:user_session])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=9'><pre>       if @user_session.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=10'><pre>         flash[:notice] = "Successfully logged in."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=11'><pre>         redirect_to root_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=12'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=13'><pre>         render :action => 'new'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=14'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=15'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=16'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=17'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=18'><pre>       @user_session = UserSession.find</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=19'><pre>       if @election.update_attributes(params[:session])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=20'><pre>         if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=21'><pre>           render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=22'><pre>               page "<< window.location.reload()"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=23'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=24'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=25'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=26'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=27'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=28'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=29'><pre>       @user_session = UserSession.find</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=30'><pre>       @user_session.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=31'><pre>       flash[:notice] = "Successfully logged out."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=32'><pre>       redirect_to root_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=33'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=34'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/user_sessions_controller.rb&line=35'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_districts_controller_rb"> app/controllers/districts_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=1'><pre>   class DistrictsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=3'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=4'><pre>       @districts = District.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=5'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=6'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=7'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=8'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=9'><pre>       @district = District.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=10'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=11'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=12'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=13'><pre>       @district = District.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=14'><pre>   #    @district.election_id = params[:election_id]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=15'><pre>   #    @election = params[:election_id]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=16'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=17'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=18'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=19'><pre>       @district = District.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=20'><pre>       @district_sets = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=21'><pre>       DistrictSet.find(:all).collect { |ds| @district_sets[ds.display_name] = ds.id}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=22'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=23'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=24'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=25'><pre>       @district = District.new(params[:district])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=26'><pre>       @election = params[:election_id]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=27'><pre>       if @district.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=28'><pre>         flash[:notice] = 'District was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=29'><pre>         redirect_to(@district)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=30'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=31'><pre>         render :action => "new"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=32'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=33'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=34'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=35'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=36'><pre>       @district = District.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=37'><pre>       handle_district_sets</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=38'><pre>       if @district.update_attributes(params[:district])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=39'><pre>         flash[:notice] = 'District was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=40'><pre>         redirect_to districts_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=41'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=42'><pre>         render :action => "edit"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=43'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=44'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=45'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=46'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=47'><pre>       @district = District.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=48'><pre>       @district.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=49'><pre>       redirect_to(districts_url)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=50'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=51'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=52'><pre>     private</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=53'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=54'><pre>     def handle_district_sets</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=55'><pre>       if params['district_sets']</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=56'><pre>         @district.district_sets.clear</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=57'><pre>         chosen_sets = params[:district_sets].map { |id| DistrictSet.find(id)}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=58'><pre>         @district.district_sets << chosen_sets</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=59'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=60'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/districts_controller.rb&line=61'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_voting_methods_controller_rb"> app/controllers/voting_methods_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=1'><pre>   class VotingMethodsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=3'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=4'><pre>       @voting_methods = VotingMethod.all</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=5'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=7'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=8'><pre>       @voting_method = VotingMethod.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=9'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=10'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=11'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=12'><pre>       @voting_method = VotingMethod.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=13'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=14'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=15'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=16'><pre>       @voting_method = VotingMethod.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=17'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=18'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=19'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=20'><pre>       @voting_method = VotingMethod.new(params[:voting_method])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=21'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=22'><pre>       if @voting_method.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=23'><pre>         flash[:notice] = 'VotingMethod was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=24'><pre>         redirect_to @voting_method</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=25'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=26'><pre>         render :action => "new"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=27'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=28'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=29'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=30'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=31'><pre>       @voting_method = VotingMethod.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=32'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=33'><pre>       if @voting_method.update_attributes(params[:voting_method])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=34'><pre>         flash[:notice] = 'VotingMethod was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=35'><pre>         redirect_to(@voting_method) </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=36'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=37'><pre>         render :action => "edit" </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=38'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=39'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=40'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=41'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=42'><pre>       @voting_method = VotingMethod.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=43'><pre>       @voting_method.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=44'><pre>       redirect_to(voting_methods_url)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=45'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=46'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/voting_methods_controller.rb&line=47'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_district_types_controller_rb"> app/controllers/district_types_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=1'><pre>   class DistrictTypesController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=3'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=4'><pre>       @district_types = DistrictType.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=5'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=7'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=8'><pre>       @district_type = DistrictType.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=9'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=10'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=11'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=12'><pre>       @district_type = DistrictType.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=13'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=14'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=15'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=16'><pre>       @district_type = DistrictType.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=17'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=18'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=19'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=20'><pre>       @district_type = DistrictType.new(params[:district_type])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=21'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=22'><pre>       if @district_type.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=23'><pre>         flash[:notice] = 'DistrictType was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=24'><pre>         redirect_to(@district_type) </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=25'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=26'><pre>         render :action => "new" </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=27'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=28'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=29'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=30'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=31'><pre>       @district_type = DistrictType.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=32'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=33'><pre>       if @district_type.update_attributes(params[:district_type])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=34'><pre>         flash[:notice] = 'DistrictType was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=35'><pre>         redirect_to(@district_type) </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=36'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=37'><pre>         render :action => "edit" </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=38'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=39'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=40'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=41'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=42'><pre>       @district_type = DistrictType.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=43'><pre>       @district_type.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=44'><pre>       redirect_to(district_types_url) </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=45'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_types_controller.rb&line=46'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_election_rb"> app/models/election.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=4'><pre>   # Table name: elections</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=6'><pre>   #  id              :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=7'><pre>   #  display_name    :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=8'><pre>   #  district_set_id :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=9'><pre>   #  start_date      :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=10'><pre>   #  created_at      :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=11'><pre>   #  updated_at      :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=12'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=13'><pre>   require 'abstract_ballot'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=14'><pre>   class Election < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=15'><pre>       has_many :contests, :order => :position, :dependent => :destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=16'><pre>       has_many :questions, :order => :display_name, :dependent => :destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=17'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=18'><pre>       validates_presence_of :display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=19'><pre>       belongs_to :district_set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=20'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=21'><pre>       before_destroy :destroy_translations</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=22'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=23'><pre>       def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=24'><pre>         s = ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=25'><pre>         attributes.each do |key, value| </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=26'><pre>           s += ("#{key}:#{value} ")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=27'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=28'><pre>         return s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=29'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=30'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=31'><pre>       def districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=32'><pre>         @districts = district_set.districts if (!@districts)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=33'><pre>         @districts  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=34'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=35'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=36'><pre>       def validate </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=37'><pre>          errors.add(:district_set_id , "is invalid") unless DistrictSet.exists?(district_set)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=38'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=39'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=40'><pre>       # really used for export. I'd use a different method, if I could force 'render :xml' to call it</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=41'><pre>       def to_xml( options = {}, &block )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=42'><pre>         return TTV::ImportExport.export(self)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=43'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=44'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=45'><pre>       TRANSLATION_FOLDER = "#{RAILS_ROOT}/db/translations"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=46'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=47'><pre>       def translation_path(lang)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=48'><pre>         "#{TRANSLATION_FOLDER}/election-#{id}.#{lang}.yml"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=49'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=50'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=51'><pre>       def destroy_translations</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=52'><pre>         Dir.foreach TRANSLATION_FOLDER do |f|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=53'><pre>           next unless f =~ /election-#{id}.*yml$/</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=54'><pre>           File.unlink("#{TRANSLATION_FOLDER}/#{f}")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=55'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=56'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=57'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=58'><pre>       def comp compare</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=59'><pre>         equal = true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=60'><pre>         equal = false if !equal_contests? compare</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=61'><pre>         equal = false if !equal_districts? compare</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=62'><pre>         equal = false if !equal_questions? compare</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=63'><pre>         equal = false if display_name != compare.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=64'><pre>         return equal</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=65'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=66'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=67'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=68'><pre>     # Contains assertions that certify the election objects election1 and </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=69'><pre>     # election2 contain equivalent contests, district associations, candidates, parties</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=70'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=71'><pre>     def equal_contests? election2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=72'><pre>       equal = true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=73'><pre>       contests.each {|e1_contest|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=74'><pre>         e2_contest = election2.contests.find_by_display_name(e1_contest.display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=75'><pre>         equal = false if e2_contest.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=76'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=77'><pre>         equal = false if e1_contest.district.display_name != e2_contest.district.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=78'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=79'><pre>         # contain the same candidates associated with the same party</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=80'><pre>         e1_contest.candidates.each {|e1_candidate|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=81'><pre>           # handle multiple candidates with the same name, different parties</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=82'><pre>           e2_candidates = e2_contest.candidates.find_all_by_display_name(e1_candidate.display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=83'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=84'><pre>           equal = false if e2_candidates.empty?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=85'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=86'><pre>           match = false</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=87'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=88'><pre>           e2_candidates.each {|e2_candidate|          </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=89'><pre>             if e2_candidate.party.display_name == e1_candidate.party.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=90'><pre>               match = true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=91'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=92'><pre>           }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=93'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=94'><pre>           equal = false if match = false</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=95'><pre>         }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=96'><pre>       }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=97'><pre>       return equal</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=98'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=99'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=100'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=101'><pre>     # Contains assertions that certify the election objects election1 and </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=102'><pre>     # election2 contain equivalent precincts and associated districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=103'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=104'><pre>     def equal_districts? election2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=105'><pre>       equal = true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=106'><pre>       districts.each {|e1_district|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=107'><pre>         e2_district = election2.districts.find_by_display_name(e1_district.display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=108'><pre>         equal = false if !e2_district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=109'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=110'><pre>         # is the same district type</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=111'><pre>         equal = false if e1_district.district_type != e2_district.district_type</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=112'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=113'><pre>         # contain the same precincts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=114'><pre>         e1_district.precincts.each {|e1_precinct|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=115'><pre>           e2_precinct = e2_district.precincts.find_by_display_name(e1_precinct.display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=116'><pre>           equal = false if e2_precinct.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=117'><pre>         }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=118'><pre>       }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=119'><pre>       return equal</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=120'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=121'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=122'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=123'><pre>     # Contains assertions that certify the election objects election1 and </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=124'><pre>     # election2 contain equivalent questions and associated districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=125'><pre>     #  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=126'><pre>     def equal_questions? election2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=127'><pre>       equal = true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=128'><pre>       questions.each {|e1_question|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=129'><pre>         e2_question = election2.questions.find_by_display_name(e1_question.display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=130'><pre>         equal = false if e2_question.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=131'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=132'><pre>         equal = false if e1_question.question != e2_question.question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=133'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=134'><pre>         equal = false if e1_question.district.display_name != e2_question.district.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=135'><pre>       }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=136'><pre>       return equal</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=137'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=138'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=139'><pre>       def render_ballot(election, precinct, ballot_style_template)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=140'><pre>         style = BallotStyle.find(ballot_style_template.ballot_style).ballot_style_code</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=141'><pre>         lang = Language.find(ballot_style_template.default_language).code</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=142'><pre>         instruction_text = ballot_style_template.instruction_text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=143'><pre>         state_seal = ballot_style_template.state_graphic</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=144'><pre>         state_signature = ballot_style_template.state_signature_image</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=145'><pre>         medium_id = ballot_style_template.medium_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=146'><pre>         title = precinct.display_name.gsub(/ /, "_").camelize + " Ballot.pdf"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=147'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=148'><pre>         if medium_id == 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=149'><pre>           pdfBallot = AbstractBallot.create(election, precinct, style, lang, instruction_text, state_seal, state_signature)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=150'><pre>           new_ballot = {:fileName => title, :pdfBallot => pdfBallot, :medium_id => medium_id}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=151'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=152'><pre>           new_ballot = {:title => title, :medium_id => medium_id}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=153'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=154'><pre>         return new_ballot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=155'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=156'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=157'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=158'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=159'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=160'><pre>       def render_ballots(election, precincts, ballot_style_template)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=161'><pre>         style = BallotStyle.find(ballot_style_template.ballot_style).ballot_style_code</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=162'><pre>         lang = Language.find(ballot_style_template.default_language).code</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=163'><pre>         instruction_text = ballot_style_template.instruction_text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=164'><pre>         state_seal = ballot_style_template.state_graphic</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=165'><pre>         state_signature = ballot_style_template.state_signature_image</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=166'><pre>         ballot_array = Array.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=167'><pre>         precincts.each do |precinct|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=168'><pre>           title = precinct.display_name.gsub(/ /, "_").camelize + " Ballot.pdf"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=169'><pre>           pdfBallot = AbstractBallot.create(election, precinct, style, lang, instruction_text, state_seal, state_signature)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=170'><pre>           new_ballot = {:fileName => title, :pdfBallot => pdfBallot}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=171'><pre>           ballot_array << new_ballot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=172'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=173'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=174'><pre>            </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=175'><pre>           #new_ballots = {:fileName => title, :pdfBallot => pdfBallot, :medium_id => medium_id}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=176'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=177'><pre>         return ballot_array</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=178'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=179'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=180'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/election.rb&line=181'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_jurisdictions_controller_rb"> app/controllers/jurisdictions_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=1'><pre>   class JurisdictionsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=2'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=3'><pre>     def current</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=4'><pre>       if !current_context.jurisdiction?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=5'><pre>         redirect_to :action => :change</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=6'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=7'><pre>         current_context.election = nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=8'><pre>         @elections = current_context.jurisdiction.elections.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=9'><pre>         render :elections</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=10'><pre>       end  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=11'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=12'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=13'><pre>     def elections</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=14'><pre>       current_context.election = nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=15'><pre>       @elections = current_context.jurisdiction.elections.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=16'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=17'><pre>    </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=18'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=19'><pre>     def change</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=20'><pre>       @district_sets = DistrictSet.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=21'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=22'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=23'><pre>     def set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=24'><pre>       current_context.jurisdiction = DistrictSet.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=25'><pre>       redirect_to :action => :elections</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=26'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=27'><pre>    </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/jurisdictions_controller.rb&line=28'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_district_sets_controller_rb"> app/controllers/district_sets_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=1'><pre>   class DistrictSetsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=2'><pre>     # GET /district_sets</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=3'><pre>     # GET /district_sets.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=4'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=5'><pre>       @district_sets = DistrictSet.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=7'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=8'><pre>         format.html # index.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=9'><pre>         format.xml  { render :xml => @district_sets }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=10'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=11'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=12'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=13'><pre>     # GET /district_sets/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=14'><pre>     # GET /district_sets/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=15'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=16'><pre>       @district_set = DistrictSet.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=17'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=18'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=19'><pre>         format.html # show.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=20'><pre>         format.xml  { render :xml => @district_set }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=21'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=22'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=23'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=24'><pre>     # GET /district_sets/new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=25'><pre>     # GET /district_sets/new.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=26'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=27'><pre>       @district_set = DistrictSet.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=28'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=29'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=30'><pre>         format.html # new.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=31'><pre>         format.xml  { render :xml => @district_set }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=32'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=33'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=34'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=35'><pre>     # GET /district_sets/1/edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=36'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=37'><pre>       @district_set = DistrictSet.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=38'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=39'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=40'><pre>     # POST /district_sets</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=41'><pre>     # POST /district_sets.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=42'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=43'><pre>       @district_set = DistrictSet.new(params[:district_set])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=44'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=45'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=46'><pre>         if @district_set.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=47'><pre>           flash[:notice] = 'DistrictSet was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=48'><pre>           format.html { redirect_to(@district_set) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=49'><pre>           format.xml  { render :xml => @district_set, :status => :created, :location => @district_set }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=50'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=51'><pre>           format.html { render :action => "new" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=52'><pre>           format.xml  { render :xml => @district_set.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=53'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=54'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=55'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=56'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=57'><pre>     # PUT /district_sets/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=58'><pre>     # PUT /district_sets/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=59'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=60'><pre>       @district_set = DistrictSet.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=61'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=62'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=63'><pre>         if @district_set.update_attributes(params[:district_set])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=64'><pre>           flash[:notice] = 'DistrictSet was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=65'><pre>           format.html { redirect_to(@district_set) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=66'><pre>           format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=67'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=68'><pre>           format.html { render :action => "edit" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=69'><pre>           format.xml  { render :xml => @district_set.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=70'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=71'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=72'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=73'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=74'><pre>     # DELETE /district_sets/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=75'><pre>     # DELETE /district_sets/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=76'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=77'><pre>       @district_set = DistrictSet.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=78'><pre>       @district_set.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=79'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=80'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=81'><pre>         format.html { redirect_to(district_sets_url) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=82'><pre>         format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=83'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=84'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/district_sets_controller.rb&line=85'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_media_controller_rb"> app/controllers/media_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=1'><pre>   class MediaController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=2'><pre>     layout 'application'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=3'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=4'><pre>     # GET /media</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=5'><pre>     # GET /media.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=6'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=7'><pre>       @media = Medium.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=8'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=9'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=10'><pre>         format.html # index.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=11'><pre>         format.xml  { render :xml => @media }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=12'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=13'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=14'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=15'><pre>     # GET /media/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=16'><pre>     # GET /media/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=17'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=18'><pre>       @medium = Medium.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=19'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=20'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=21'><pre>         format.html # show.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=22'><pre>         format.xml  { render :xml => @medium }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=23'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=24'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=25'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=26'><pre>     # GET /media/new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=27'><pre>     # GET /media/new.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=28'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=29'><pre>       @medium = Medium.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=30'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=31'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=32'><pre>         format.html # new.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=33'><pre>         format.xml  { render :xml => @medium }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=34'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=35'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=36'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=37'><pre>     # GET /media/1/edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=38'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=39'><pre>       @medium = Medium.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=40'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=41'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=42'><pre>     # POST /media</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=43'><pre>     # POST /media.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=44'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=45'><pre>       @medium = Medium.new(params[:medium])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=46'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=47'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=48'><pre>         if @medium.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=49'><pre>           flash[:notice] = 'Medium was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=50'><pre>           format.html { redirect_to(@medium) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=51'><pre>           format.xml  { render :xml => @medium, :status => :created, :location => @medium }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=52'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=53'><pre>           format.html { render :action => "new" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=54'><pre>           format.xml  { render :xml => @medium.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=55'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=56'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=57'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=58'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=59'><pre>     # PUT /media/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=60'><pre>     # PUT /media/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=61'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=62'><pre>       @medium = Medium.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=63'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=64'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=65'><pre>         if @medium.update_attributes(params[:medium])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=66'><pre>           flash[:notice] = 'Medium was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=67'><pre>           format.html { redirect_to(@medium) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=68'><pre>           format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=69'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=70'><pre>           format.html { render :action => "edit" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=71'><pre>           format.xml  { render :xml => @medium.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=72'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=73'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=74'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=75'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=76'><pre>     # DELETE /media/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=77'><pre>     # DELETE /media/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=78'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=79'><pre>       @medium = Medium.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=80'><pre>       @medium.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=81'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=82'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=83'><pre>         format.html { redirect_to(media_url) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=84'><pre>         format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=85'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=86'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/media_controller.rb&line=87'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_elections_controller_rb"> app/controllers/elections_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=1'><pre>   class ElectionsController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=2'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=3'><pre>    authorize_resource</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=4'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=5'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=6'><pre>       current_context.reset</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=7'><pre>       @elections = Election.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=8'><pre>       redirect_to :action => 'new' if @elections.empty?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=9'><pre>       @election = UserSession.find.election if UserSession.find</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=10'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=11'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=12'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=13'><pre>       @election = Election.find(params[:id], :include => [ </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=14'><pre>         { :district_set => :districts }, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=15'><pre>         { :contests => :candidates },</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=16'><pre>         :questions, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=17'><pre>         ])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=18'><pre>       current_context.election = @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=19'><pre>       @districts = @election.districts.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=20'><pre>       @contests = @election.contests.paginate(:per_page => 10, :page => params[:page], :order => 'position')</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=21'><pre>       @questions = @election.questions.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=22'><pre>       @precincts = @election.district_set.precincts.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=23'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=24'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=25'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=26'><pre>       @election = Election.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=27'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=28'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=29'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=30'><pre>       @election = Election.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=31'><pre>       @dist_sets = DistrictSet.find(:all)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=32'><pre>       render :partial => 'edit', :locals => { :election => @election } if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=33'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=34'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=35'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=36'><pre>       @election = Election.new(params[:election])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=37'><pre>       if @election.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=38'><pre>         flash[:notice] = 'Election was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=39'><pre>         redirect_to @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=40'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=41'><pre>         render :action => "new" </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=42'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=43'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=44'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=45'><pre>     # responds to AJAX updates too</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=46'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=47'><pre>       @election = Election.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=48'><pre>       success = @election.update_attributes(params[:election])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=49'><pre>       flash[:notice] = 'Election was successfully updated.' if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=50'><pre>       if request.xhr?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=51'><pre>         edit_id = "#{dom_id(@election)}_edit"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=52'><pre>         static_id = "#{dom_id(@election)}_static"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=53'><pre>         render :update do |page|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=54'><pre>           if success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=55'><pre>             page.remove edit_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=56'><pre>             page.replace static_id, :partial => 'static', :locals => { :election => @election }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=57'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=58'><pre>             @dist_sets = DistrictSet.find(:all)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=59'><pre>             page.replace edit_id, :partial => 'edit', :locals => { :election => @election }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=60'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=61'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=62'><pre>       elsif success</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=63'><pre>         redirect_to @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=64'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=65'><pre>        render :action => "edit"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=66'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=67'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=68'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=69'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=70'><pre>       @election = Election.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=71'><pre>       @election.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=72'><pre>       redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=73'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=74'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=75'><pre>     def import</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=76'><pre>       begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=77'><pre>         if params[:importFile].nil? </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=78'><pre>           flash[:error] = "Import failed because file was not specified."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=79'><pre>           redirect_to :back</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=80'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=81'><pre>           @election = TTV::ImportExport.import(params[:importFile])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=82'><pre>           flash[:notice] = "Election import was successful. Here is your new election."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=83'><pre>           redirect_to @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=84'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=85'><pre>       rescue ActionController::RedirectBackError => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=86'><pre>         redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=87'><pre>       rescue Exception => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=88'><pre>         raise ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=89'><pre>         flash[:error] = "Import error: #{ex.message}";</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=90'><pre>         redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=91'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=92'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=93'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=94'><pre>     def import_yml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=95'><pre>       begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=96'><pre>         if params[:importFile].nil? </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=97'><pre>           flash[:error] = "Import failed because file was not specified."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=98'><pre>           redirect_to :back</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=99'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=100'><pre>           import_handler = TTV::YAMLImport.new(params[:importFile])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=101'><pre>           @election = import_handler.import</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=102'><pre>           flash[:notice] = "Election import was successful. Here is your new election."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=103'><pre>           redirect_to @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=104'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=105'><pre>       rescue ActionController::RedirectBackError => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=106'><pre>         redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=107'><pre>       rescue Exception => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=108'><pre>         raise ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=109'><pre>         flash[:error] = "Import error: #{ex.message}";</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=110'><pre>         redirect_to elections_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=111'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=112'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=113'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=114'><pre>     def export</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=115'><pre>       @election = Election.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=116'><pre>       title = @election.display_name.gsub(/ /, "_").camelize</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=117'><pre>       headers["Content-disposition"] = "attachment;filename=\"#{title}.xml\""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=118'><pre>       render :xml => @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=119'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=120'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=121'><pre>     def precincts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=122'><pre>       @election = Election.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=123'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=124'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=125'><pre>     def translate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=126'><pre>       @election = Election.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=127'><pre>       TTV::PDFBallot.translate(@election, params[:lang])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=128'><pre>       flash[:notice] = "Election was successfully translated"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=129'><pre>       redirect_to precincts_election_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=130'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=131'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=132'><pre>   end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/elections_controller.rb&line=133'><pre>   </pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_ballot_style_templates_controller_rb"> app/controllers/ballot_style_templates_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=1'><pre>   class BallotStyleTemplatesController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=2'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=3'><pre>     layout 'application'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=4'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=5'><pre>     # GET /ballot_style_templates</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=6'><pre>     # GET /ballot_style_templates.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=7'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=8'><pre>       @ballot_style_templates = BallotStyleTemplate.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=9'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=10'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=11'><pre>         format.html # index.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=12'><pre>         format.xml  { render :xml => @ballot_style_templates }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=13'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=14'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=15'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=16'><pre>     # GET /ballot_style_templates/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=17'><pre>     # GET /ballot_style_templates/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=18'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=19'><pre>       @ballot_style_template = BallotStyleTemplate.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=20'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=21'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=22'><pre>         format.html # show.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=23'><pre>         format.xml  { render :xml => @ballot_style_template }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=24'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=25'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=26'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=27'><pre>     # GET /ballot_style_templates/new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=28'><pre>     # GET /ballot_style_templates/new.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=29'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=30'><pre>       @ballot_style_template = BallotStyleTemplate.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=31'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=32'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=33'><pre>         format.html # new.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=34'><pre>         format.xml  { render :xml => @ballot_style_template }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=35'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=36'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=37'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=38'><pre>     # GET /ballot_style_templates/1/edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=39'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=40'><pre>       @ballot_style_template = BallotStyleTemplate.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=41'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=42'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=43'><pre>     # POST /ballot_style_templates</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=44'><pre>     # POST /ballot_style_templates.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=45'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=46'><pre>       @ballot_style_template = BallotStyleTemplate.new(params[:ballot_style_template])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=47'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=48'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=49'><pre>         if @ballot_style_template.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=50'><pre>           flash[:notice] = 'BallotStyleTemplate was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=51'><pre>           format.html { redirect_to(@ballot_style_template) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=52'><pre>           format.xml  { render :xml => @ballot_style_template, :status => :created, :location => @ballot_style_template }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=53'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=54'><pre>           format.html { render :action => "new" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=55'><pre>           format.xml  { render :xml => @ballot_style_template.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=56'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=57'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=58'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=59'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=60'><pre>     # PUT /ballot_style_templates/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=61'><pre>     # PUT /ballot_style_templates/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=62'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=63'><pre>       @ballot_style_template = BallotStyleTemplate.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=64'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=65'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=66'><pre>         if @ballot_style_template.update_attributes(params[:ballot_style_template])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=67'><pre>           flash[:notice] = 'BallotStyleTemplate was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=68'><pre>           format.html { redirect_to(@ballot_style_template) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=69'><pre>           format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=70'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=71'><pre>           format.html { render :action => "edit" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=72'><pre>           format.xml  { render :xml => @ballot_style_template.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=73'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=74'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=75'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=76'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=77'><pre>     # DELETE /ballot_style_templates/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=78'><pre>     # DELETE /ballot_style_templates/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=79'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=80'><pre>       @ballot_style_template = BallotStyleTemplate.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=81'><pre>       @ballot_style_template.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=82'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=83'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=84'><pre>         format.html { redirect_to(ballot_style_templates_url) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=85'><pre>         format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=86'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=87'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_style_templates_controller.rb&line=88'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ttv_translate_rb"> app/ttv/translate.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=1'><pre>   module TTV</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=2'><pre>     module Translate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=3'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=4'><pre>       # from http://ruby.geraldbauer.ca/google-translation-api.html</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=5'><pre>       # for a list of languages, see http://code.google.com/apis/ajaxlanguage/documentation/reference.html#LangNameArray</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=6'><pre>       def self.translate(text, from, to)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=7'><pre>         raise "#{text} is not a string, cannot translate" unless text.class == String</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=8'><pre>         if text.count("\n") > 0 # line splits, and google chews them up, must separate manually</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=9'><pre>           puts "translating #{text.length} '#{text}'"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=10'><pre>           translation = ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=11'><pre>           text.split("\n").each do |t|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=12'><pre>             translation += self.translate(t, from, to) + "\n"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=13'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=14'><pre>           puts "translated ", translation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=15'><pre>           return translation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=16'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=17'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=18'><pre>         return "" unless text =~ /\w+/</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=19'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=20'><pre>         base = 'http://ajax.googleapis.com/ajax/services/language/translate' </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=21'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=22'><pre>         # assemble query params</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=23'><pre>         params = {</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=24'><pre>           :langpair => "#{from}|#{to}", </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=25'><pre>           :q => text,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=26'><pre>           :v => 1.0  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=27'><pre>         }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=28'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=29'><pre>         query = params.map{ |k,v| "#{k}=#{CGI.escape(v.to_s)}" }.join('&')</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=30'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=31'><pre>         response = Net::HTTP.get_response( URI.parse( "#{base}?#{query}" ) )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=32'><pre>         json = ActiveSupport::JSON.decode( response.body )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=33'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=34'><pre>         if json['responseStatus'] == 200</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=35'><pre>           json['responseData']['translatedText']</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=36'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=37'><pre>           raise StandardError, response['responseDetails']</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=38'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=39'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=40'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=41'><pre>       def self.translate_file(src_path, dest_path, from, to)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=42'><pre>         if src_path =~ /.yml$/</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=43'><pre>           yaml = YAML::load_file(src_path)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=44'><pre>           translation = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=45'><pre>           yaml.each do |a, b|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=46'><pre>             translation[a] = self.translate(b, from, to)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=47'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=48'><pre>           File.open dest_path, 'w' do |out|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=49'><pre>             YAML.dump(translation, out )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=50'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=51'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=52'><pre>           text = IO.read src_path</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=53'><pre>           translation = self.translate text, from, to</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=54'><pre>           out = File.open dest_path, "w" do |f|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=55'><pre>             f.write translation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=56'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=57'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=58'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=59'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=60'><pre>       # use from a command line to translate ballot directories</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=61'><pre>       # load "lib/ttv/translate.rb"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=62'><pre>       # TTV::Translate.translate_directory("ballots/default/lang/en", "ballots/default/lang/zh", "en", "zh")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=63'><pre>       def self.translate_directory(src_dir, dest_dir, from, to)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=64'><pre>         Dir.foreach src_dir do |f|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=65'><pre>           next unless f =~ /txt|yml/</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=66'><pre>           self.translate_file "#{src_dir}/#{f}", "#{dest_dir}/#{f}", from, to</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=67'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=68'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=69'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=70'><pre>       def self.human_language(code)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=71'><pre>         case code</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=72'><pre>         when 'en'; "English"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=73'><pre>         when 'es'; "Spanish"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=74'><pre>         when 'zh'; "Chinese"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=75'><pre>         else code</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=76'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=77'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=78'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=79'><pre>       class YamlTranslation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=80'><pre>         def initialize(filename)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=81'><pre>           @filename = filename</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=82'><pre>           @dirty = false</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=83'><pre>           begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=84'><pre>             @yaml = YAML::load_file(@filename)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=85'><pre>           rescue => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=86'><pre>             @dirty = true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=87'><pre>             @yaml = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=88'><pre>             @ex = ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=89'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=90'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=91'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=92'><pre>         def [](val)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=93'><pre>           return @yaml[val] if @yaml.has_key? val</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=94'><pre>           @dirty = true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=95'><pre>           @yaml[val] = "NEEDSTRANSLATION"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=96'><pre>           "NEEDSTRANSLATION"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=97'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=98'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=99'><pre>         def save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=100'><pre>           File.open( @filename, 'w' ) do |out|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=101'><pre>             YAML.dump( @yaml, out )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=102'><pre>           end unless !@dirty    </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=103'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=104'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=105'><pre>         def dirty?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=106'><pre>           @dirty</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=107'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=108'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=109'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=110'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=111'><pre>       # for english (default_language)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=112'><pre>       #   recreate the file every time</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=113'><pre>       # for other languages</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=114'><pre>       #   recreate the file if needed</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=115'><pre>       class ElectionTranslation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=116'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=117'><pre>         DEFAULT_LANGUAGE = 'en'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=118'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=119'><pre>         def initialize(election, lang)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=120'><pre>           @election = election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=121'><pre>           @filename = election.translation_path(lang)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=122'><pre>           @lang = lang</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=123'><pre>           @dirty = false</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=124'><pre>           begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=125'><pre>             @yaml = YAML::load_file(@filename)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=126'><pre>           rescue => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=127'><pre>             @yaml = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=128'><pre>             @ex = ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=129'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=130'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=131'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=132'><pre>         def get(object, property)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=133'><pre>           key = "#{object.class.name}-#{object.id}.#{property}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=134'><pre>           return @yaml[key] if @yaml.has_key? key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=135'><pre>           if @lang == DEFAULT_LANGUAGE</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=136'><pre>             @yaml[key] = object.send property</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=137'><pre>             @yaml[key]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=138'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=139'><pre>             return @yaml[key] if @yaml.has_key? key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=140'><pre>             @dirty = true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=141'><pre>             @yaml[key] = "NEEDSTRANSLATION"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=142'><pre>             "NEEDSTRANSLATION"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=143'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=144'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=145'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=146'><pre>         def dirty?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=147'><pre>            @dirty</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=148'><pre>          end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=149'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=150'><pre>   # look at this for solutions</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=151'><pre>   # http://www.artweb-design.de/2008/7/18/the-ruby-on-rails-i18n-core-api    </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=152'><pre>   # http://guides.rubyonrails.org/i18n.html</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=153'><pre>         def ordinalize(n)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=154'><pre>           n.ordinalize # FIXME, need international support, might come with rails for free in future releases</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=155'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=156'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=157'><pre>         def strftime(date, format)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=158'><pre>           I18n.localize date, :locale => @lang, :format => format</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=159'><pre>           # date.strftime(format)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=160'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=161'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=162'><pre>         def save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=163'><pre>           File.open( @filename, 'w' ) do |out|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=164'><pre>             YAML.dump( @yaml, out )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=165'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=166'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=167'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=168'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=169'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=170'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/translate.rb&line=171'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_languages_controller_rb"> app/controllers/languages_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=1'><pre>   class LanguagesController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=3'><pre>     layout 'application'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=4'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=5'><pre>     # GET /languages</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=6'><pre>     # GET /languages.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=7'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=8'><pre>       @languages = Language.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=9'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=10'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=11'><pre>         format.html # index.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=12'><pre>         format.xml  { render :xml => @languages }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=13'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=14'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=15'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=16'><pre>     # GET /languages/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=17'><pre>     # GET /languages/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=18'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=19'><pre>       @language = Language.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=20'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=21'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=22'><pre>         format.html # show.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=23'><pre>         format.xml  { render :xml => @language }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=24'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=25'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=26'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=27'><pre>     # GET /languages/new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=28'><pre>     # GET /languages/new.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=29'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=30'><pre>       @language = Language.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=31'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=32'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=33'><pre>         format.html # new.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=34'><pre>         format.xml  { render :xml => @language }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=35'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=36'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=37'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=38'><pre>     # GET /languages/1/edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=39'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=40'><pre>       @language = Language.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=41'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=42'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=43'><pre>     # POST /languages</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=44'><pre>     # POST /languages.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=45'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=46'><pre>       @language = Language.new(params[:language])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=47'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=48'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=49'><pre>         if @language.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=50'><pre>           flash[:notice] = 'Language was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=51'><pre>           format.html { redirect_to(@language) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=52'><pre>           format.xml  { render :xml => @language, :status => :created, :location => @language }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=53'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=54'><pre>           format.html { render :action => "new" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=55'><pre>           format.xml  { render :xml => @language.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=56'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=57'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=58'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=59'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=60'><pre>     # PUT /languages/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=61'><pre>     # PUT /languages/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=62'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=63'><pre>       @language = Language.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=64'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=65'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=66'><pre>         if @language.update_attributes(params[:language])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=67'><pre>           flash[:notice] = 'Language was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=68'><pre>           format.html { redirect_to(@language) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=69'><pre>           format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=70'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=71'><pre>           format.html { render :action => "edit" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=72'><pre>           format.xml  { render :xml => @language.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=73'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=74'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=75'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=76'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=77'><pre>     # DELETE /languages/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=78'><pre>     # DELETE /languages/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=79'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=80'><pre>       @language = Language.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=81'><pre>       @language.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=82'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=83'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=84'><pre>         format.html { redirect_to(languages_url) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=85'><pre>         format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=86'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=87'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/languages_controller.rb&line=88'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_ballot_styles_controller_rb"> app/controllers/ballot_styles_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=1'><pre>   class BallotStylesController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=2'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=3'><pre>     layout 'application'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=4'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=5'><pre>     # GET /ballot_styles</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=6'><pre>     # GET /ballot_styles.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=7'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=8'><pre>       @ballot_styles = BallotStyle.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=9'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=10'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=11'><pre>         format.html # index.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=12'><pre>         format.xml  { render :xml => @ballot_styles }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=13'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=14'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=15'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=16'><pre>     # GET /ballot_styles/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=17'><pre>     # GET /ballot_styles/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=18'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=19'><pre>       @ballot_style = BallotStyle.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=20'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=21'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=22'><pre>         format.html # show.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=23'><pre>         format.xml  { render :xml => @ballot_style }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=24'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=25'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=26'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=27'><pre>     # GET /ballot_styles/new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=28'><pre>     # GET /ballot_styles/new.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=29'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=30'><pre>       @ballot_style = BallotStyle.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=31'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=32'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=33'><pre>         format.html # new.html.erb</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=34'><pre>         format.xml  { render :xml => @ballot_style }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=35'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=36'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=37'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=38'><pre>     # GET /ballot_styles/1/edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=39'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=40'><pre>       @ballot_style = BallotStyle.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=41'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=42'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=43'><pre>     # POST /ballot_styles</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=44'><pre>     # POST /ballot_styles.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=45'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=46'><pre>       @ballot_style = BallotStyle.new(params[:ballot_style])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=47'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=48'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=49'><pre>         if @ballot_style.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=50'><pre>           flash[:notice] = 'BallotStyle was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=51'><pre>           format.html { redirect_to(@ballot_style) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=52'><pre>           format.xml  { render :xml => @ballot_style, :status => :created, :location => @ballot_style }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=53'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=54'><pre>           format.html { render :action => "new" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=55'><pre>           format.xml  { render :xml => @ballot_style.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=56'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=57'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=58'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=59'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=60'><pre>     # PUT /ballot_styles/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=61'><pre>     # PUT /ballot_styles/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=62'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=63'><pre>       @ballot_style = BallotStyle.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=64'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=65'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=66'><pre>         if @ballot_style.update_attributes(params[:ballot_style])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=67'><pre>           flash[:notice] = 'BallotStyle was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=68'><pre>           format.html { redirect_to(@ballot_style) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=69'><pre>           format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=70'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=71'><pre>           format.html { render :action => "edit" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=72'><pre>           format.xml  { render :xml => @ballot_style.errors, :status => :unprocessable_entity }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=73'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=74'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=75'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=76'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=77'><pre>     # DELETE /ballot_styles/1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=78'><pre>     # DELETE /ballot_styles/1.xml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=79'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=80'><pre>       @ballot_style = BallotStyle.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=81'><pre>       @ballot_style.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=82'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=83'><pre>       respond_to do |format|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=84'><pre>         format.html { redirect_to(ballot_styles_url) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=85'><pre>         format.xml  { head :ok }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=86'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=87'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/ballot_styles_controller.rb&line=88'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_parties_controller_rb"> app/controllers/parties_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=1'><pre>   class PartiesController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=3'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=4'><pre>       @parties = Party.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=5'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=7'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=8'><pre>       @party = Party.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=9'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=10'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=11'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=12'><pre>       @party = Party.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=13'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=14'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=15'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=16'><pre>       @party = Party.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=17'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=18'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=19'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=20'><pre>       @party = Party.new(params[:party])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=21'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=22'><pre>       if @party.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=23'><pre>         flash[:notice] = 'Party was successfully created.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=24'><pre>         redirect_to(@party) </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=25'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=26'><pre>         render :action => "new"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=27'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=28'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=29'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=30'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=31'><pre>       @party = Party.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=32'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=33'><pre>       if @party.update_attributes(params[:party])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=34'><pre>         flash[:notice] = 'Party was successfully updated.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=35'><pre>         redirect_to(@party)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=36'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=37'><pre>         render :action => "edit"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=38'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=39'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=40'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=41'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=42'><pre>       @party = Party.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=43'><pre>       @party.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=44'><pre>       redirect_to(parties_url)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=45'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=46'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/parties_controller.rb&line=47'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_users_controller_rb"> app/controllers/users_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=1'><pre>   class UsersController < ApplicationController</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=3'><pre>     authorize_resource</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=4'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=5'><pre>     def index</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=6'><pre>       @users = User.paginate(:per_page => 10, :page => params[:page])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=7'><pre>       redirect_to :action => 'new' if @users.empty?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=8'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=9'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=10'><pre>     def show</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=11'><pre>       @user = User.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=12'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=13'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=14'><pre>     def register</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=15'><pre>       @user = User.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=16'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=17'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=18'><pre>     def new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=19'><pre>       @user = User.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=20'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=21'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=22'><pre>     def edit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=23'><pre>       # @user = current_user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=24'><pre>       @user = User.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=25'><pre>       #    logger.info("User is #{@user}")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=26'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=27'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=28'><pre>     def create</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=29'><pre>       @user = User.new(params[:user])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=30'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=31'><pre>       # default role for new users is 'standard'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=32'><pre>       @user.roles << UserRole.new(:name => 'standard')</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=33'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=34'><pre>       if @user.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=35'><pre>         begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=36'><pre>           Notifier.deliver_registration_confirmation(@user)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=37'><pre>         rescue => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=38'><pre>           flash[:error] = "Confirmation email not sent. #{ex.message}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=39'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=40'><pre>         flash[:notice] = 'Successfully created a new user.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=41'><pre>         redirect_to root_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=42'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=43'><pre>         flash[:error] = "Failed to create a new user: " << @user.errors.full_messages.join(', ')</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=44'><pre>         # redirect_to new_user_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=45'><pre>         redirect_to request.referer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=46'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=47'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=48'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=49'><pre>     def update</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=50'><pre>       # @user = current_user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=51'><pre>       @user = User.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=52'><pre>       if @user.update_attributes(params[:user])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=53'><pre>         flash[:notice] = 'Update successful.'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=54'><pre>         redirect_to root_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=55'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=56'><pre>         render :action => "edit" </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=57'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=58'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=59'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=60'><pre>     def destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=61'><pre>       @user = User.find(params[:id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=62'><pre>       @user.destroy</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=63'><pre>       redirect_to(users_url) </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=64'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/users_controller.rb&line=65'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ttv_pdf_ballot_style_rb"> app/ttv/pdf_ballot_style.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=1'><pre>   require 'ballots/default/ballot_config.rb'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=2'><pre>   require 'ballots/aiga/ballot_config.rb'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=3'><pre>   require 'ballots/nh/ballot_config.rb'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=4'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=5'><pre>   class PDFBallotStyle</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=7'><pre>     BALLOT_DIR = "#{RAILS_ROOT}/app/ballots"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=8'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=9'><pre>     def self.list</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=10'><pre>       styles = ['default']</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=11'><pre>       dir = Dir.open BALLOT_DIR</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=12'><pre>       dir.each do |f|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=13'><pre>         next if f =~ /\..*/ || ! File.directory?("#{BALLOT_DIR}/#{f}") || f == "default"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=14'><pre>         styles.push f</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=15'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=16'><pre>       styles</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=17'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=18'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=19'><pre>     def self.get_file(style, name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=20'><pre>       name = "#{BALLOT_DIR}/#{style}/#{name}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=21'><pre>       begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=22'><pre>         IO.read(name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=23'><pre>       rescue</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=24'><pre>         Rails.logger.warn "No such file #{name} " </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=25'><pre>         "-"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=26'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=27'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=28'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=29'><pre>     def self.get_election_translation(election, lang)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=30'><pre>       return TTV::Translate::ElectionTranslation.new(election, lang)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=31'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=32'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=33'><pre>     def self.get_ballot_translation(style, lang)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=34'><pre>   #    puts BALLOT_DIR</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=35'><pre>       return TTV::Translate::YamlTranslation.new("#{BALLOT_DIR}/#{style}/lang/#{lang}/ballot.yml")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=36'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=37'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=38'><pre>     def self.get_ballot_config(style, lang, election, scanner, instruction_text, state_seal, state_signature)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=39'><pre>       begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=40'><pre>         ballot_defining_module = style.camelize + "Ballot"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=41'><pre>         mod = ballot_defining_module.constantize</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=42'><pre>         mod::BallotConfig.new(style, lang, election, scanner, instruction_text, state_seal, state_signature)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=43'><pre>       rescue => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=44'><pre>         Rails.logger.error(ex)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=45'><pre>         raise "Unknown Ballot Style: #{style}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=46'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=47'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=48'><pre>   end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/pdf_ballot_style.rb&line=49'><pre>   </pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_precincts_helper_rb"> app/helpers/precincts_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=1'><pre>   module PrecinctsHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=3'><pre>   # Return how many contests are defined for this precinct and election, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=4'><pre>   # or the total number of contests if we are not looking at a specific election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=5'><pre>     def precinct_contest_count_helper (prec, elect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=6'><pre>       if elect.nil? </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=7'><pre>         Contest.all.length</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=8'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=9'><pre>         Contest.contests_for_precinct_election(prec, elect).length</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=10'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=11'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=12'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=13'><pre>   # Return how many questions are defined for this precinct and election, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=14'><pre>   # or the total number of questions, if we are not looking at a specific election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=15'><pre>     def precinct_question_count_helper (prec, elect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=16'><pre>       if elect.nil? </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=17'><pre>         "--"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=18'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=19'><pre>         Question.questions_for_precinct_election(prec, elect).length</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=20'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=21'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=22'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/precincts_helper.rb&line=23'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_user_context_rb"> app/models/user_context.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=1'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=2'><pre>   # Represent a place in the navigation of the application in a structured way. There is exactly one instance</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=3'><pre>   # of this class and (for now) it is carried around in session[:current_context]. See current_context method in</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=4'><pre>   # ApplicationController where it is created and returned to any other method that needs it.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=5'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=6'><pre>   class UserContext</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=7'><pre>     attr_accessor :jurisdiction, :election, :contest, :question, :precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=8'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=9'><pre>     def initialize(session)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=10'><pre>       @session = session</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=11'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=12'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=13'><pre>     #TODO: DRY these common methods with define_method</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=14'><pre>     def jurisdiction</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=15'><pre>       @jurisdiction || @session[:jurisdiction_id] && @jurisdiction = DistrictSet.find(@session[:jurisdiction_id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=16'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=17'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=18'><pre>     def election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=19'><pre>       @election || @session[:election_id] && @election = Election.find(@session[:election_id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=20'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=21'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=22'><pre>     def contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=23'><pre>       @contest || @session[:contest_id] && @contest = Contest.find(@session[:contest_id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=24'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=25'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=26'><pre>     def question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=27'><pre>       @question || @session[:question_id] && @question = Question.find(@session[:question_id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=28'><pre>     end  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=29'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=30'><pre>     def precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=31'><pre>       @precinct || @session[:precinct_id] && @precinct = Precinct.find(@session[:question_id])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=32'><pre>     end  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=33'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=34'><pre>     def jurisdiction?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=35'><pre>       !@jurisdiction.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=36'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=37'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=38'><pre>     def election?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=39'><pre>       !@election.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=40'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=41'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=42'><pre>     def contest?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=43'><pre>       !@contest.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=44'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=45'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=46'><pre>     def question?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=47'><pre>       !@question.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=48'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=49'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=50'><pre>     def precinct?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=51'><pre>       !@precinct.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=52'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=53'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=54'><pre>     def contest= a_contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=55'><pre>       @question, @precinct = nil, nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=56'><pre>       @session[:question_id], @session[:precinct_id] = nil, nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=57'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=58'><pre>       @session[:contest_id] = a_contest ? a_contest.id : nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=59'><pre>       @contest = a_contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=60'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=61'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=62'><pre>     def question= a_question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=63'><pre>       @contest, @precinct = nil, nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=64'><pre>       @session[:contest_id], @session[:precinct_id] = nil, nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=65'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=66'><pre>       @session[:question_id] = a_question ? a_question.id : nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=67'><pre>       @question= a_question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=68'><pre>     end  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=69'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=70'><pre>     def precinct= a_precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=71'><pre>       @contest, @question = nil, nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=72'><pre>       @session[:contest_id], @session[:question_id] = nil, nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=73'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=74'><pre>       @session[:precint_id] = a_precinct ? a_precinct.id : nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=75'><pre>       self.jurisdiction = a_precinct.district_sets[0]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=76'><pre>       @precinct= a_precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=77'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=78'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=79'><pre>     def election= an_election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=80'><pre>       contest, question, precint  = nil, nil, nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=81'><pre>       @session[:contest_id], @session[:question_id], @session[:precint_id]  = nil, nil, nil    </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=82'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=83'><pre>       @session[:election_id] = an_election ? an_election.id : nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=84'><pre>       self.jurisdiction = an_election.district_set unless an_election.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=85'><pre>       @election = an_election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=86'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=87'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=88'><pre>     def jurisdiction= a_jurisdiction</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=89'><pre>       @session[:jurisdiction_id] = a_jurisdiction ? a_jurisdiction.id : nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=90'><pre>       @jurisdiction = a_jurisdiction</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=91'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=92'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=93'><pre>     def jurisdiction_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=94'><pre>       jurisdiction ? jurisdiction.display_name :  "no jurisdiction selected"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=95'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=96'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=97'><pre>     def reset</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=98'><pre>       @session[:election_id] = @session[:jurisdiction_id] = @session[:contest] = @session[:question] = @session[:precinct]= nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=99'><pre>       @election = @jurisdiction = @contest = @question = @precinct= nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=100'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=101'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=102'><pre>     def jurisdiction_secondary_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=103'><pre>       second_name = (jurisdiction ? jurisdiction.secondary_name :  nil)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=104'><pre>       second_name || ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=105'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=106'><pre>     # Convert to text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=107'><pre>     def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=108'><pre>       s = ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=109'><pre>       if !@jurisdiction.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=110'><pre>         s << @jurisdiction.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=111'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=112'><pre>       if !@election.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=113'><pre>         s << " > " + @election.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=114'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=115'><pre>       if !@question.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=116'><pre>         s << " > " + @question.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=117'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=118'><pre>       if !@contest.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=119'><pre>         s << " > " + @contest.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=120'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=121'><pre>       if !@precinct.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=122'><pre>         s << " > " + @precinct.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=123'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=124'><pre>       s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=125'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_context.rb&line=126'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ttv_abstract_ballot_rb"> app/ttv/abstract_ballot.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=1'><pre>   require 'prawn'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=3'><pre>   module AbstractBallot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=4'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=5'><pre>     def self.create(election, precinct, style='default', lang='en', instruction_text='none', state_seal = 'none', state_signature = 'none', destination = nil)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=6'><pre>   #      Prawn.debug = true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=7'><pre>       scanner = TTV::Scanner.new()</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=8'><pre>       config = PDFBallotStyle.get_ballot_config(style, lang, election, scanner, instruction_text, state_seal, state_signature)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=9'><pre>       renderer = Renderer.new(election, precinct, config, destination)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=10'><pre>       renderer.render</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=11'><pre>       raise ArgumentError, "Translation to #{TTV::Translate.human_language(lang)} has not been done. Translate, then try again." if config.et.dirty?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=12'><pre>   #      config.bt.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=13'><pre>       renderer.to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=14'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=15'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=16'><pre>     # no rebuild is used in testing to prevent continuous rebuilds</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=17'><pre>     def self.translate(election, lang, no_rebuild = false)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=18'><pre>       return if no_rebuild && File.exists?(election.translation_path(lang))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=19'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=20'><pre>       # generate english yaml file by generating ballots for all precincts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=21'><pre>       # </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=22'><pre>       scanner = Scanner.new()</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=23'><pre>       config = TTV::PDFBallotStyle.get_ballot_config('default', 'en', election, scanner, instruction_text, state_seal, state_signature)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=24'><pre>       election.district_set.precincts.each do | precinct |</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=25'><pre>         renderer = Renderer.new(election, precinct, config)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=26'><pre>         renderer.render</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=27'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=28'><pre>       config.et.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=29'><pre>       TTV::Translate.translate_file(election.translation_path('en'), election.translation_path(lang), 'en', lang)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=30'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=31'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=32'><pre>     class Rect</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=33'><pre>       attr_accessor :top, :left, :bottom, :right</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=34'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=35'><pre>       def initialize(top, left, bottom, right)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=36'><pre>         @top, @left, @bottom , @right = top, left, bottom, right</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=37'><pre>         @original_top = @top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=38'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=39'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=40'><pre>       def width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=41'><pre>         right - left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=42'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=43'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=44'><pre>       def height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=45'><pre>         top - bottom</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=46'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=47'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=48'><pre>       def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=49'><pre>         "#{full_height? ? 'empty' : ''  }T:#{@top} L:#{@left} B:#{@bottom} R:#{@right} W:#{self.width} H:#{self.height}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=50'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=51'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=52'><pre>       def inset(horiz, vertical)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=53'><pre>         @top -= vertical</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=54'><pre>         @bottom += vertical</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=55'><pre>         @left += horiz</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=56'><pre>         @right -= horiz</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=57'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=58'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=59'><pre>       def first</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=60'><pre>         self</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=61'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=62'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=63'><pre>       def full_height?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=64'><pre>         @original_top == @top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=65'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=66'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=67'><pre>       def self.create(top, left, bottom, right)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=68'><pre>         return new(top, left, bottom, right)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=69'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=70'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=71'><pre>       def self.create_wh(top, left, width, height)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=72'><pre>         return new(top, left, top - height, left + width)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=73'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=74'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=75'><pre>       def self.create_bound_box(bb)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=76'><pre>         return self.create(bb.top, bb.left, bb.bottom, bb.right)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=77'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=78'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=79'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=80'><pre>     # WideColumn is used in layout to group columns together</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=81'><pre>     # its boundaries are leftmost/rightmost/lowest top/highest bottom</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=82'><pre>     class WideColumn</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=83'><pre>       def initialize (rects)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=84'><pre>         @rects = rects</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=85'><pre>         @original_top = top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=86'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=87'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=88'><pre>       def initialize_copy(old)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=89'><pre>         @rects =  @rects.map { |r| r.clone }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=90'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=91'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=92'><pre>       def top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=93'><pre>         @rects.map { |r| r.top}.min</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=94'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=95'><pre>       def top=(x)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=96'><pre>         @rects.each { |r| r.top = x }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=97'><pre>       end        </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=98'><pre>       def bottom</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=99'><pre>         @rects.map { |r| r.bottom}.max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=100'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=101'><pre>       def bottom=(x)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=102'><pre>         @rects.each { |r| r.bottom = x} </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=103'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=104'><pre>       def left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=105'><pre>         @rects.map { |r| r.left}.min</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=106'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=107'><pre>       def right</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=108'><pre>         @rects.map { |r| r.right}.max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=109'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=110'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=111'><pre>       def width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=112'><pre>         right - left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=113'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=114'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=115'><pre>       def height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=116'><pre>         top - bottom</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=117'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=118'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=119'><pre>       def index(r)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=120'><pre>         @rects.index(r)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=121'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=122'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=123'><pre>       def first</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=124'><pre>         @rects.first</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=125'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=126'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=127'><pre>       def full_height?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=128'><pre>         @original_top == top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=129'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=130'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=131'><pre>       def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=132'><pre>         s = "T:#{top} L:#{left} B:#{bottom} R:#{right} W:#{width} H#{height}\n\n"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=133'><pre>         @rects.each do |r| </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=134'><pre>           s += "Combo: #{r.to_s}\n" </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=135'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=136'><pre>         s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=137'><pre>       end        </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=138'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=139'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=140'><pre>     # encapsulates columns for rendering</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=141'><pre>     class Columns</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=142'><pre>       def initialize(col_count, flow_rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=143'><pre>         @column_rects = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=144'><pre>         column_width = flow_rect.width / ( col_count * 1.0)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=145'><pre>         col_count.times do |x|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=146'><pre>           @column_rects.push Rect.create_wh(flow_rect.top, flow_rect.left + column_width *x,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=147'><pre>           column_width, flow_rect.height)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=148'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=149'><pre>         @next = @column_rects.first</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=150'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=151'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=152'><pre>       def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=153'><pre>         s = ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=154'><pre>         @column_rects.each do |c|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=155'><pre>           s += "#{c}\n"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=156'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=157'><pre>         s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=158'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=159'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=160'><pre>       def next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=161'><pre>         retval = @next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=162'><pre>         @next = @column_rects[@column_rects.index(@next) + 1] if @next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=163'><pre>         retval</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=164'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=165'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=166'><pre>       def first</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=167'><pre>         @column_rects.first</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=168'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=169'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=170'><pre>       def last</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=171'><pre>         @column_rects.last</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=172'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=173'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=174'><pre>       def current=(r)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=175'><pre>         @next = @column_rects[@column_rects.index(r) + 1]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=176'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=177'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=178'><pre>       def empty?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=179'><pre>         @column_rects.select{ |r| r.full_height? }.size == @column_rects.size</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=180'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=181'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=182'><pre>       def make_wide(column, width)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=183'><pre>         return nil if column == nil # not an error case</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=184'><pre>         cols = [column]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=185'><pre>         i = @column_rects.index(column) + 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=186'><pre>         total = column.width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=187'><pre>         while (total < width && i < @column_rects.size)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=188'><pre>           new_col = @column_rects[i]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=189'><pre>           @next = @column_rects[i+1]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=190'><pre>           total += new_col.width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=191'><pre>           cols.push new_col</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=192'><pre>           i += 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=193'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=194'><pre>         return WideColumn.new(cols) if total >= width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=195'><pre>         nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=196'><pre>       end      </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=197'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=198'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=199'><pre>     class Renderer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=200'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=201'><pre>       def initialize(election, precinct, config, destination)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=202'><pre>         @election = election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=203'><pre>         @precinct = precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=204'><pre>         @destination = destination</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=205'><pre>         @c = config</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=206'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=207'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=208'><pre>       def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=209'><pre>         @pdf.render</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=210'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=211'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=212'><pre>       def init_flow_items</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=213'><pre>         @flow_items = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=214'><pre>         @precinct.districts(@election.district_set).each do |district|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=215'><pre>           header_item = @c.create_flow_item @c.et.get(district, :display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=216'><pre>           #        @flow_items.push(@c.create_flow_item(district.display_name))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=217'><pre>           contest_list = district.contestsForElection(@election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=218'><pre>           contest_list.sort { |a,b| a.position <=> b.position}.each do |contest|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=219'><pre>             if header_item</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=220'><pre>               @flow_items.push(@c.create_flow_item( [header_item, @c.create_flow_item(contest)] ))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=221'><pre>               header_item = nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=222'><pre>             else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=223'><pre>               @flow_items.push(@c.create_flow_item(contest))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=224'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=225'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=226'><pre>           district.questionsForElection(@election).each do |question|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=227'><pre>             if header_item</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=228'><pre>               @flow_items.push(@c.create_flow_item( [header_item, @c.create_flow_item(question)] ))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=229'><pre>               header_item = nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=230'><pre>             else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=231'><pre>               @flow_items.push(@c.create_flow_item(question))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=232'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=233'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=234'><pre>         end       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=235'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=236'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=237'><pre>       def render</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=238'><pre>         @pdf = Prawn::Document.new(</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=239'><pre>         :page_layout => @c.page_layout,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=240'><pre>         :page_size => @c.page_size, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=241'><pre>         :left_margin => @c.left_margin,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=242'><pre>         :right_margin => @c.right_margin,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=243'><pre>         :top_margin => @c.top_margin,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=244'><pre>         :bottom_margin => @c.bottom_margin,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=245'><pre>         :skip_page_creation => true,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=246'><pre>         :info => { :Creator => "TrustTheVote",</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=247'><pre>           :Title => "#{@election.display_name} #{@precinct.display_name} ballot"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=248'><pre>         }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=249'><pre>         )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=250'><pre>         @c.setup(@pdf, @precinct)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=251'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=252'><pre>         init_flow_items</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=253'><pre>         render_everything</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=254'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=255'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=256'><pre>       # initializes everything outside of the flow rect on a new page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=257'><pre>       def start_page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=258'><pre>         end_page(false) if @page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=259'><pre>         @pagenum += 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=260'><pre>         @pdf.start_new_page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=261'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=262'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=263'><pre>         flow_rect = Rect.create_bound_box(@pdf.bounds)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=264'><pre>         @c.render_frame flow_rect</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=265'><pre>         @c.render_header flow_rect</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=266'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=267'><pre>         columns = @c.create_columns(flow_rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=268'><pre>         # make space for continuation box</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=269'><pre>         continuation_box = @c.create_continuation_box</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=270'><pre>         columns.last.bottom += continuation_box.height(@c, columns.last, true)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=271'><pre>         @c.render_column_instructions(columns, @pagenum)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=272'><pre>         curr_column = columns.next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=273'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=274'><pre>         @page = { :continuation_box => continuation_box, :columns => columns, :last_column => curr_column }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=275'><pre>         [flow_rect, columns, curr_column]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=276'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=277'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=278'><pre>       def end_page(last_page)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=279'><pre>         return if @page == nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=280'><pre>         continuation_col = @page[:last_column]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=281'><pre>         return if continuation_col == nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=282'><pre>         continuation_box = @page[:continuation_box]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=283'><pre>         columns = @page[:columns]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=284'><pre>         if (continuation_col.height < </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=285'><pre>           continuation_box.height(@c, continuation_col, @flow_items.size != 0) )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=286'><pre>           if ! (continuation_col.class == WideColumn && continuation_col.index(columns.last))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=287'><pre>             continuation_col = columns.last</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=288'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=289'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=290'><pre>         continuation_box.draw(@c, continuation_col, last_page)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=291'><pre>         @c.page_complete(@pagenum, last_page)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=292'><pre>         @page = nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=293'><pre>         if last_page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=294'><pre>   #        puts @c.scanner.to_json</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=295'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=296'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=297'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=298'><pre>       # tries to fit current item into any columns on the current page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=299'><pre>       # returns nil if item does not fit</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=300'><pre>       #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=301'><pre>       def fit_width(item, flow_rect, curr_column, columns)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=302'><pre>         return nil if curr_column == nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=303'><pre>         if item.min_width != 0 # if width >= narrow column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=304'><pre>           if item.min_width > curr_column.width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=305'><pre>             if curr_column.full_height?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=306'><pre>               curr_column = columns.make_wide curr_column, item.min_width # widen the current column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=307'><pre>             else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=308'><pre>               curr_column = columns.make_wide columns.next, item.min_width # </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=309'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=310'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=311'><pre>         elsif curr_column.class == WideColumn # fit narrow items in wide column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=312'><pre>           if @c.wide_style == :continue</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=313'><pre>             curr_column = curr_column.first</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=314'><pre>             columns.current = curr_column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=315'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=316'><pre>             curr_column = columns.next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=317'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=318'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=319'><pre>         curr_column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=320'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=321'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=322'><pre>       def render_error(text)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=323'><pre>         @pdf.fill_color "FF0000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=324'><pre>         @pdf.font "Helvetica", :size => 18, :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=325'><pre>         @pdf.text_box text, :at => [50, @pdf.bounds.top - 100], :width    => 300, :height => 1000</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=326'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=327'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=328'><pre>       def render_everything</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=329'><pre>         @pagenum = 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=330'><pre>         @page =  nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=331'><pre>         curr_column = nil   # used as a flag that we need a new page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=332'><pre>         while @flow_items.size > 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=333'><pre>           flow_rect, columns, curr_column = start_page if curr_column == nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=334'><pre>           item = @flow_items.first</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=335'><pre>           curr_column = fit_width(item, flow_rect, curr_column, columns)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=336'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=337'><pre>           if curr_column == nil # item too wide for current page, start a new one</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=338'><pre>             if columns.empty? # too wide for empty page, that's an error</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=339'><pre>               @flow_items.shift</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=340'><pre>               render_error "ERROR Item #{item.to_s} is too wide to fit onto page."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=341'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=342'><pre>             next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=343'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=344'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=345'><pre>           if item.fits @c, curr_column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=346'><pre>             @page[:last_column] = curr_column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=347'><pre>             item = @flow_items.shift</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=348'><pre>             item.draw @c, curr_column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=349'><pre>             @c.scanner.append_ballot_marks(item.ballot_marks)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=350'><pre>           elsif curr_column.full_height? # item is taller than a single column, need to break it up</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=351'><pre>             if curr_column.first != columns.first # split items go on a brand new page for now</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=352'><pre>               curr_column = nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=353'><pre>               next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=354'><pre>             else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=355'><pre>               @page[:last_column] = curr_column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=356'><pre>               @flow_items.shift</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=357'><pre>               item.draw @c, curr_column do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=358'><pre>                 # returns new columns for item to draw in</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=359'><pre>                 curr_column = columns.next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=360'><pre>                 curr_column = fit_width(item, flow_rect, curr_column, columns)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=361'><pre>                 if (curr_column == nil)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=362'><pre>                   flow_rect, columns, curr_column = start_page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=363'><pre>                   curr_column = fit_width(item, flow_rect, curr_column, columns)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=364'><pre>                   if (curr_column == nil) # cannot fit on a single blank page, error</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=365'><pre>                     render_error "ERROR, item #{item.to_s} too wide to fit onto page"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=366'><pre>                   end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=367'><pre>                 end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=368'><pre>                 @page[:last_column] = curr_column if curr_column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=369'><pre>                 curr_column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=370'><pre>               end # block</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=371'><pre>               @c.scanner.append_ballot_marks(item.ballot_marks)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=372'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=373'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=374'><pre>             curr_column = columns.next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=375'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=376'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=377'><pre>         end_page(true)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=378'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=379'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=380'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=381'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/abstract_ballot.rb&line=382'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_user_session_rb"> app/models/user_session.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=1'><pre>   class UserSession < Authlogic::Session::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=2'><pre>     generalize_credentials_error_messages "Your login information is invalid."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=3'><pre>     find_by_login_method :find_by_email</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=4'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=5'><pre>   #  attr_accessible :election_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=6'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=7'><pre>     def election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=8'><pre>       return Election.find(@election_id) if (@election_id && election = Election.find(@election_id))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=9'><pre>       election = Election.find(:last, :order => 'created_at')</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=10'><pre>       @election_id = election.id if election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=11'><pre>       return election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=12'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=13'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=14'><pre>     def election_id=(election_id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=15'><pre>       @election_id = election_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=16'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_session.rb&line=17'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_application_helper_rb"> app/helpers/application_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=1'><pre>   # Methods added to this helper will be available to all templates in the application.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=2'><pre>   module ApplicationHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=3'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=4'><pre>     # Nice styling of error messages</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=5'><pre>     def render_error_messages(model, options={})</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=6'><pre>       options = { :verbose => false }.merge(options)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=7'><pre>       messages = model.errors.full_messages #objects.compact.map { |o| o.errors.full_messages}.flatten</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=8'><pre>       render :partial => 'layouts/error_messages', :object => messages, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=9'><pre>         :locals => { :options => options, :model => model} unless messages.empty?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=10'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=11'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=12'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=13'><pre>     # Pretty print objects, to be used in views</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=14'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=15'><pre>     def pp_debug(obj)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=16'><pre>       '<pre>' +</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=17'><pre>       h(obj.pretty_inspect) +</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=18'><pre>       '</pre>'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=19'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=20'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=21'><pre>     def icon_helper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=22'><pre>       curr_jurisd = current_context.jurisdiction</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=23'><pre>       if curr_jurisd.nil? or !DistrictSet.find(curr_jurisd).icon?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=24'><pre>         link_to(image_tag("ttv-100.png", :class => "ttv-logo"), :current_jurisdictions)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=25'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=26'><pre>         link_to(image_tag(DistrictSet.find(curr_jurisd).icon.url(:thumb), :class => "ttv-logo"), :current_jurisdictions)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=27'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=28'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=29'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=30'><pre>     def icon_for district_set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=31'><pre>      return image_tag("ttv-100.png", :class =>"avatar") unless district_set.icon?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=32'><pre>      return image_tag(district_set.icon.url(:thumb), :class => "avatar") if district_set.icon?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=33'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=34'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=35'><pre>     def link_icon_for district_set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=36'><pre>       link_to(icon_for(district_set), set_jurisdiction_path(district_set))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=37'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=38'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=39'><pre>     # HTML for header that is over all pages</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=40'><pre>     def header_helper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=41'><pre>       jurisdiction_name = current_context.jurisdiction_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=42'><pre>       jurisdiction_secondary = current_context.jurisdiction_secondary_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=43'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=44'><pre>       if current_user() and current_context.jurisdiction?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=45'><pre>         content_tag(:h1, jurisdiction_name +</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=46'><pre>                         "<br /><small>" + jurisdiction_secondary + "</small>", :class=>"title-header")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=47'><pre>       else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=48'><pre>         content_tag(:h1, "TTV Election Manager", :class=>"title-header") </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=49'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=50'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=51'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=52'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=53'><pre>     # HTML for top right user navigation bar where login etc live</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=54'><pre>     def user_navigation_helper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=55'><pre>       jurisdiction_name = current_context.jurisdiction_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=56'><pre>       content_tag(:div, :class =>"banner_right") do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=57'><pre>         content_tag(:ul, :class => "wat-cf") do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=58'><pre>           if current_user()</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=59'><pre>             content_tag(:li, jurisdiction_name + " " + link_to(" (change)", change_jurisdictions_path)) +</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=60'><pre>             content_tag(:li) { current_user.email } + </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=61'><pre>             content_tag(:li) { link_to("Edit profile", edit_user_path(current_user)) } +</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=62'><pre>             content_tag(:li) { link_to("Logout", logout_path) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=63'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=64'><pre>             content_tag(:li) { link_to("Login", login_path) } + </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=65'><pre>             content_tag(:li) { link_to("Register", register_user_path) }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=66'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=67'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=68'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=69'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=70'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=71'><pre>     # HTML for nicely styled buttons in forms</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=72'><pre>     def button_link_helper(image_file, alt_tag, button_label, link_path, delete=nil)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=73'><pre>       options = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=74'><pre>       if (delete == :delete)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=75'><pre>         options = {:method => "delete", :confirm => "#{t("web-app-theme.confirm", :default => "Are you sure?")}"}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=76'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=77'><pre>       link_to("#{image_tag(image_file, :alt => alt_tag)} #{button_label}", link_path, {:class => "button"}.merge(options))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=78'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=79'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=80'><pre>     # HTML for breadcrums</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=81'><pre>     def breadcrumb_helper(cc)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=82'><pre>       html = ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=83'><pre>       jur_link = ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=84'><pre>       el_link = ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=85'><pre>       c_or_q_or_p_link = ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=86'><pre>       if cc.contest?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=87'><pre>         c_or_q_or_p_link = link_to(cc.contest.display_name, cc.contest)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=88'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=89'><pre>       if cc.question?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=90'><pre>         c_or_q_or_p_link = link_to(cc.question.display_name, cc.question)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=91'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=92'><pre>       if cc.precinct?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=93'><pre>         c_or_q_or_p_link = link_to(cc.precinct.display_name, cc.precinct)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=94'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=95'><pre>       if cc.election?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=96'><pre>         el_link = link_to(cc.election.display_name, cc.election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=97'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=98'><pre>       if cc.jurisdiction?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=99'><pre>         jur_link = link_to(cc.jurisdiction.display_name, set_jurisdiction_path(cc.jurisdiction))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=100'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=101'><pre>       if c_or_q_or_p_link != ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=102'><pre>         html = c_or_q_or_p_link + " <small> (in " + el_link + " in " + jur_link + " )</small>"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=103'><pre>       elsif el_link != ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=104'><pre>         html = el_link + " <small> (in " + jur_link + " )</small>"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=105'><pre>       elsif jur_link</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=106'><pre>         html = jur_link</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=107'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=108'><pre>       content_tag(:h4, html)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=109'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/application_helper.rb&line=110'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_question_rb"> app/models/question.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=4'><pre>   # Table name: questions</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=6'><pre>   #  id           :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=7'><pre>   #  display_name :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=8'><pre>   #  question     :text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=9'><pre>   #  district_id  :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=10'><pre>   #  election_id  :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=11'><pre>   #  created_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=12'><pre>   #  updated_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=13'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=14'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=15'><pre>   class Question < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=16'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=17'><pre>     belongs_to  :requesting_district, :class_name => 'District'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=18'><pre>     belongs_to :election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=19'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=20'><pre>     attr_accessible :display_name, :question, :district_id , :election_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=21'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=22'><pre>     validates_presence_of :display_name, :question, :requesting_district_id, :election_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=23'><pre>     validates_numericality_of :requesting_district_id, :election_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=24'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=25'><pre>     def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=26'><pre>       "QUESTION: #{self.display_name}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=27'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=28'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=29'><pre>     def self.questions_for_precinct_election(p, e)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=30'><pre>       d = p.districts_for_election(e)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=31'><pre>       e.questions.map do |q|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=32'><pre>         q if d.include?(q.requesting_district)      </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=33'><pre>       end.flatten.compact</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=34'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=35'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/question.rb&line=36'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ttv_yaml_import_rb"> app/ttv/yaml_import.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=1'><pre>   require 'yaml'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=3'><pre>   module TTV</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=4'><pre>     # Import Yaml-based election using standard formats, and convert as needed to Election and related objects.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=5'><pre>     class YAMLImport</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=6'><pre>       attr_reader :yml_election, :election, :dist_set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=7'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=8'><pre>   # <tt>source::</tt> File object for file containing yaml text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=9'><pre>       def initialize(source)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=10'><pre>         @source = source</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=11'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=12'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=13'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=14'><pre>   # Is the .yml being imported of type 'ballot_config"? Ballot_config's have less stringent</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=15'><pre>   # validation and get connected to the 'default built-in district' etc.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=16'><pre>       def ballot_config?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=17'><pre>         if @yml_election["audit_header"].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=18'><pre>           return false</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=19'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=20'><pre>           return @yml_election["audit_header"]["type"] == "ballot_config"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=21'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=22'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=23'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=24'><pre>   # Do the whole import process. Main entry point.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=25'><pre>       def import</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=26'><pre>         @dist_id_map = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=27'><pre>         @yml_election = YAML.load(@source)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=28'><pre>         ActiveRecord::Base.transaction do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=29'><pre>           @dist_set = create_district_set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=30'><pre>           if @yml_election["ballot_info"].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=31'><pre>             puts "No ballot information -- invalid yml"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=32'><pre>             pp @yml_election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=33'><pre>             raise "Invalid YAML election. See console for details."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=34'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=35'><pre>           @election = Election.create(:display_name => @yml_election["ballot_info"]["display_name"])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=36'><pre>           if @yml_election["ballot_info"]["start_date"].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=37'><pre>                @election.start_date = Time.now</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=38'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=39'><pre>             @election.start_date = Date.parse(@yml_election["ballot_info"]["start_date"].to_s)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=40'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=41'><pre>           @election.district_set = @dist_set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=42'><pre>           @election.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=43'><pre>           if @yml_election["ballot_info"]["precinct_list"].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=44'><pre>               puts "Invalid yml doesn't contain precinct_list"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=45'><pre>               pp @yml_election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=46'><pre>               raise "Invalid YAML election. See console for details."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=47'><pre>           elsif @yml_election["ballot_info"]["contest_list"].nil?          </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=48'><pre>               puts "Invalid yml doesn't contain contest_list"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=49'><pre>               pp @yml_election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=50'><pre>               raise "Invalid YAML election. See console for details."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=51'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=52'><pre>           @yml_election["ballot_info"]["precinct_list"].each { |prec| load_precinct prec}            </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=53'><pre>           @yml_election["ballot_info"]["contest_list"].each { |yml_contest| load_contest yml_contest}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=54'><pre>           @yml_election["ballot_info"]["question_list"].each { |yml_question| load_question yml_question} unless @yml_election["ballot_info"]["question_list"].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=55'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=56'><pre>         @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=57'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=58'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=59'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=60'><pre>       def import_batch</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=61'><pre>           @dist_id_map = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=62'><pre>           yaml_dir = Dir.new(@source)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=63'><pre>           yaml_dir.each do |yaml_file|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=64'><pre>             if yaml_file[yaml_file.length - 3..yaml_file.length] == 'yml'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=65'><pre>               new_file = File.new("#{@source}/#{yaml_file}", "r")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=66'><pre>               @yml_election = YAML.load(new_file)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=67'><pre>               ActiveRecord::Base.transaction do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=68'><pre>                 @dist_set = create_district_set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=69'><pre>                 if @yml_election["ballot_info"].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=70'><pre>                   puts "No ballot information -- invalid yml"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=71'><pre>                   pp @yml_election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=72'><pre>                   raise "Invalid YAML election. See console for details."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=73'><pre>                 end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=74'><pre>                  @election = Election.create(:display_name =>@yml_election["ballot_info"]["display_name"])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=75'><pre>                   if @yml_election["ballot_info"]["start_date"].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=76'><pre>                         @election.start_date = Time.now</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=77'><pre>                    else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=78'><pre>                      @election.start_date = Date.parse(@yml_election["ballot_info"]["start_date"].to_s)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=79'><pre>                    end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=80'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=81'><pre>                   @election.district_set = @dist_set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=82'><pre>                   @election.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=83'><pre>                   if @yml_election["ballot_info"]["precinct_list"].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=84'><pre>                       puts "Invalid yml doesn't contain precinct_list"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=85'><pre>                       pp @yml_election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=86'><pre>                       raise "Invalid YAML election. See console for details."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=87'><pre>                   elsif @yml_election["ballot_info"]["contest_list"].nil?          </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=88'><pre>                       puts "Invalid yml doesn't contain contest_list"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=89'><pre>                       pp @yml_election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=90'><pre>                       raise "Invalid YAML election. See console for details."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=91'><pre>                   end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=92'><pre>                   @yml_election["ballot_info"]["precinct_list"].each { |prec| load_precinct prec}            </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=93'><pre>                   @yml_election["ballot_info"]["contest_list"].each { |yml_contest| load_contest(yml_contest)}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=94'><pre>                   @yml_election["ballot_info"]["question_list"].each { |yml_question| load_question yml_question} unless @yml_election["ballot_info"]["question_list"].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=95'><pre>                   end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=96'><pre>                   @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=97'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=98'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=99'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=100'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=101'><pre>       def create_district_set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=102'><pre>         if ballot_config?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=103'><pre>           DistrictSet.find(0)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=104'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=105'><pre>           DistrictSet.create(:display_name => @yml_election["ballot_info"]["jurisdiction_display_name"])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=106'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=107'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=108'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=109'><pre>   # load another question into Election object</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=110'><pre>   # <tt>question::</tt>Hash contains single question from yaml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=111'><pre>       def load_question yml_question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=112'><pre>         if ballot_config?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=113'><pre>           dist = District.find(0)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=114'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=115'><pre>           if yml_question["district_ident"].nil? || @dist_id_map[yml_question["district_ident"]].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=116'><pre>             puts "Error in yaml_import: invalid question"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=117'><pre>             pp yml_cont</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=118'><pre>             raise "Invalid yaml in question. See console for details."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=119'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=120'><pre>           dist = @dist_id_map[yml_question["district_ident"]]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=121'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=122'><pre>         new_question = Question.create(:display_name =>yml_question["display_name"],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=123'><pre>                                      :question => yml_question["question"])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=124'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=125'><pre>         #new_question.order = yml_question["order"] || 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=126'><pre>         # TODO: add order support to question model</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=127'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=128'><pre>         @election.questions << new_question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=129'><pre>         new_question.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=130'><pre>         dist.questions << new_question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=131'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=132'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=133'><pre>   # load another contest into Election object</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=134'><pre>   # <tt>contest::</tt>Hash contains single contest from yaml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=135'><pre>       def load_contest yml_cont</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=136'><pre>         if @dist_id_map[yml_cont["district_ident"]].nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=137'><pre>           # the only time we can survive without district and precinct lists is with ballot_config.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=138'><pre>           if ballot_config?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=139'><pre>             dist = District.find(0)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=140'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=141'><pre>             puts "Error in yaml_import: invalid contest"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=142'><pre>             pp yml_cont</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=143'><pre>             raise "Invalid yaml in contest. See console for details."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=144'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=145'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=146'><pre>           dist = @dist_id_map[yml_cont["district_ident"]]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=147'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=148'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=149'><pre>         new_contest = Contest.create(:display_name =>yml_cont["display_name"],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=150'><pre>                                      :open_seat_count => 1, :voting_method_id => 0)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=151'><pre>                                      </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=152'><pre>         if yml_cont.key? "voting_method"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=153'><pre>           new_contest.voting_method_id = VotingMethod.xmlToId(yml_cont["voting_method"])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=154'><pre>         else # default if none specified</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=155'><pre>           new_contest.voting_method_id = VotingMethod::WINNER_TAKE_ALL</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=156'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=157'><pre>         new_contest.position = yml_cont["display_order"] || 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=158'><pre>         yml_cont["candidates"].each { |yml_cand| load_candidate yml_cand, new_contest }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=159'><pre>         @election.contests << new_contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=160'><pre>         new_contest.save</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=161'><pre>         dist.contests << new_contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=162'><pre>        end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=163'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=164'><pre>     # load another candidate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=165'><pre>     # <tt>cand::</tt>Hash containing a single candidate from yaml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=166'><pre>       def load_candidate y_cand, cont</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=167'><pre>         new_cand = Candidate.create(:display_name => y_cand["display_name"])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=168'><pre>         party_name = y_cand["party_display_name"]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=169'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=170'><pre>         party = Party.find_by_display_name(party_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=171'><pre>         if party.nil? </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=172'><pre>           party = Party.new(:display_name => party_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=173'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=174'><pre>         new_cand.party = party</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=175'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=176'><pre>         new_cand.order = y_cand["order"] || 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=177'><pre>         cont.candidates << new_cand</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=178'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=179'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=180'><pre>   # load another precinct into Election object</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=181'><pre>   # <tt>precinct::</tt>Hash contains a single precinct from yaml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=182'><pre>       def load_precinct yaml_prec</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=183'><pre>   # First find or create the precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=184'><pre>         prec_disp_name = yaml_prec["display_name"]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=185'><pre>         new_precinct = Precinct.find_by_display_name(prec_disp_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=186'><pre>         if !new_precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=187'><pre>           new_precinct = Precinct.create(:display_name => prec_disp_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=188'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=189'><pre>         if !yaml_prec.key? "district_list"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=190'><pre>   # if so, just connect precinct to the built-in default district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=191'><pre>           District.find(0).precincts << new_precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=192'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=193'><pre>   # otherwise connect the new precinct to each of the districts in its district_list</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=194'><pre>           load_districts yaml_prec["district_list"], new_precinct </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=195'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=196'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=197'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=198'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=199'><pre>   # Find or create the districts.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=200'><pre>   #<tt>yaml_districts</tt>::district_list from yaml input</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=201'><pre>   #<tt>precinct</tt>::Precinct object that includes those districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=202'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=203'><pre>       def load_districts yaml_districts, precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=204'><pre>         if yaml_districts.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=205'><pre>           puts "*** invalid Precinct on Yaml Import:"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=206'><pre>           pp yaml_prec </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=207'><pre>           raise "YAML error: invalid precinct. See console for details"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=208'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=209'><pre>         yaml_districts.each do |yaml_dist|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=210'><pre>           dist_disp_name = yaml_dist["display_name"]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=211'><pre>           new_district = District.find_by_display_name(dist_disp_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=212'><pre>           if !new_district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=213'><pre>             new_district = District.create(:display_name => dist_disp_name, :district_type_id => 1)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=214'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=215'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=216'><pre>   # Add this district to the district set being built, and to the precinct being built</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=217'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=218'><pre>           @dist_set.districts << new_district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=219'><pre>           new_district.precincts << precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=220'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=221'><pre>   # For later linking, record which district "ident" got which District object</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=222'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=223'><pre>           @dist_id_map[yaml_dist["ident"]] = new_district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=224'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=225'><pre>       end # def load_districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=226'><pre>     end # class</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_import.rb&line=227'><pre>   end # module</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ballots_default_ballot_config_rb"> app/ballots/default/ballot_config.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=1'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=2'><pre>   # DefaultBallot is is used to layout and render the most basic ballot. It's the first one we implemented.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=3'><pre>   # The "include AbstractBallot" makes the DefaultBallot module sort of inherit form the AbstractBallot module. Any methods not definedf</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=4'><pre>   # here are defined in AbstractBallot.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=5'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=7'><pre>   require 'ttv/abstract_ballot.rb'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=8'><pre>   require 'prawn'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=9'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=10'><pre>   module DefaultBallot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=11'><pre>     include ::AbstractBallot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=12'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=13'><pre>     class FlowItem</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=14'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=15'><pre>       ANY_WIDTH = 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=16'><pre>       HPAD = 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=17'><pre>       HPAD2 = 6</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=18'><pre>       VPAD = 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=19'><pre>       VPAD2 = 6</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=20'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=21'><pre>       def initialize(item, scanner)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=22'><pre>         @item = item</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=23'><pre>         @scanner = scanner</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=24'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=25'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=26'><pre>       def reset_ballot_marks</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=27'><pre>         @ballot_marks = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=28'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=29'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=30'><pre>       def ballot_marks</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=31'><pre>         @ballot_marks || []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=32'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=33'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=34'><pre>       def add_ballot_mark(contest, choice, page, location)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=35'><pre>         @ballot_marks.push(@scanner.create_ballot_mark contest, choice, page, location )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=36'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=37'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=38'><pre>       def fits(config, rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=39'><pre>         # clever way to see if we fit, avoiding code duplication for measure vs. draw</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=40'><pre>         # Algorithm: draw the item. If it overflows flow rectangle, it does not fit.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=41'><pre>         r = rect.clone</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=42'><pre>         config.pdf.transaction do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=43'><pre>           draw(config, r)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=44'><pre>           config.pdf.rollback</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=45'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=46'><pre>         r.height > 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=47'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=48'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=49'><pre>       def draw(config, rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=50'><pre>         # debug only code, never executed</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=51'><pre>         top = rect.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=52'><pre>         config.pdf.font("Helvetica", :size => 10, :style => :italic)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=53'><pre>         config.pdf.bounding_box([rect.left + HPAD, rect.top], :width => rect.width - HPAD ) do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=54'><pre>           config.pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=55'><pre>           config.pdf.text "FlowItem.draw"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=56'><pre>           rect.top -= config.pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=57'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=58'><pre>         config.pdf.stroke_line [rect.left, rect.top], [rect.right, rect.top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=59'><pre>         config.pdf.stroke_line [rect.right, rect.top], [rect.right, top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=60'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=61'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=62'><pre>       def min_width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=63'><pre>         0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=64'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=65'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=66'><pre>       def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=67'><pre>         @item.to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=68'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=69'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=70'><pre>       class Combo</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=71'><pre>         def initialize(flow_items)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=72'><pre>           @flow_items = flow_items</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=73'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=74'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=75'><pre>         def fits(config, rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=76'><pre>           r = rect.clone</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=77'><pre>           config.pdf.transaction do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=78'><pre>             @flow_items.each { |f|  f.draw config, r if r.height > 0 }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=79'><pre>             config.pdf.rollback</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=80'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=81'><pre>           r.height > 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=82'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=83'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=84'><pre>         def min_width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=85'><pre>           @flow_items.map { |r| r.min_width }.max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=86'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=87'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=88'><pre>         def draw(config, rect, &bloc)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=89'><pre>           reset_ballot_marks</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=90'><pre>           @flow_items.each { |f| f.draw config, rect, &bloc }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=91'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=92'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=93'><pre>         def reset_ballot_marks</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=94'><pre>           @flow_items.each { |f| f.reset_ballot_marks }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=95'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=96'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=97'><pre>         def ballot_marks</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=98'><pre>           ret = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=99'><pre>           @flow_items.each { |f| ret.concat f.ballot_marks }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=100'><pre>           ret</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=101'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=102'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=103'><pre>         def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=104'><pre>           s = "Combo\n"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=105'><pre>           @flow_items.each { |f| s += f.to_s + "\n" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=106'><pre>           s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=107'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=108'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=109'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=110'><pre>       class Header < FlowItem</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=111'><pre>         def min_width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=112'><pre>           ANY_WIDTH</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=113'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=114'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=115'><pre>         def draw(config, rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=116'><pre>           top = rect.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=117'><pre>           config.pdf.font("Helvetica", :size => 10, :style => :bold )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=118'><pre>           config.pdf.bounding_box([rect.left + HPAD, rect.top], :width => rect.width - HPAD * 2) do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=119'><pre>             config.pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=120'><pre>             config.pdf.text @item, :leading => 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=121'><pre>             rect.top -= config.pdf.bounds.height </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=122'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=123'><pre>           config.frame_item rect, top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=124'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=125'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=126'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=127'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=128'><pre>       class Question < FlowItem</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=129'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=130'><pre>         def min_width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=131'><pre>           return 300 if @item.question.length > 100</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=132'><pre>           return ANY_WIDTH</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=133'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=134'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=135'><pre>         def draw(config, rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=136'><pre>           reset_ballot_marks</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=137'><pre>           top = rect.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=138'><pre>           config.pdf.bounding_box([rect.left+2, rect.top], :width => rect.width - 4) do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=139'><pre>             config.pdf.font "Helvetica", :size => 10, :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=140'><pre>             config.pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=141'><pre>             config.pdf.text config.et.get(@item, :display_name), :leading => 1 #header</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=142'><pre>             config.pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=143'><pre>             config.pdf.text config.short_instructions(@item), :leading => 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=144'><pre>             config.pdf.move_down VPAD * 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=145'><pre>             config.pdf.font "Helvetica", :size => 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=146'><pre>             config.pdf.text config.et.get(@item, :question), :leading => 1 # question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=147'><pre>             rect.top -= config.pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=148'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=149'><pre>           rect.top -= 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=150'><pre>           space, location = config.draw_checkbox rect, config.bt[:Yes]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=151'><pre>           add_ballot_mark @item, "Yes", config.pdf.page_number, location</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=152'><pre>           rect.top -= 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=153'><pre>           space, location = config.draw_checkbox  rect, config.bt[:No]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=154'><pre>           add_ballot_mark @item, "No", config.pdf.page_number, location</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=155'><pre>           config.pdf.line_width 0.5</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=156'><pre>           rect.top -= 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=157'><pre>           config.frame_item rect, top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=158'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=159'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=160'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=161'><pre>       class Contest < FlowItem</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=162'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=163'><pre>         NAME_WIDTH = 100</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=164'><pre>         MAX_RANKED = 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=165'><pre>         NEXT_COL_BOUNCE = 30</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=166'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=167'><pre>         def min_width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=168'><pre>           if @item.voting_method_id == VotingMethod::WINNER_TAKE_ALL.id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=169'><pre>             super</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=170'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=171'><pre>             100 + 3 * HPAD + [@item.candidates.count, MAX_RANKED].min * (HPAD + BallotConfig::CHECKBOX_WIDTH)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=172'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=173'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=174'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=175'><pre>         def draw(config, rect, &bloc)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=176'><pre>           reset_ballot_marks</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=177'><pre>           if @item.voting_method_id == VotingMethod::WINNER_TAKE_ALL.id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=178'><pre>             draw_winner config, rect, &bloc</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=179'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=180'><pre>             draw_ranked config, rect, &bloc</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=181'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=182'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=183'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=184'><pre>         def draw_winner(config, rect, &bloc)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=185'><pre>           top = rect.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=186'><pre>           # HEADER</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=187'><pre>           config.pdf.bounding_box [rect.left+HPAD, rect.top], :width => rect.width - HPAD2 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=188'><pre>             config.pdf.font "Helvetica", :size => 10, :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=189'><pre>             config.pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=190'><pre>             config.pdf.text config.et.get(@item, :display_name), :leading => 1 #header</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=191'><pre>             config.pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=192'><pre>             config.pdf.text config.short_instructions(@item), :leading => 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=193'><pre>             rect.top -= config.pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=194'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=195'><pre>           # CANDIDATES</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=196'><pre>           candidates_list = @item.candidates</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=197'><pre>           candidates_list.sort { |a,b| a.order <=> b.order}.each do |candidate|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=198'><pre>             if bloc && rect.height < NEXT_COL_BOUNCE</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=199'><pre>               config.frame_item rect, top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=200'><pre>               rect = yield</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=201'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=202'><pre>             rect.top -= VPAD * 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=203'><pre>             space, location = config.draw_checkbox rect, config.et.get(candidate, :display_name) + "\n" + config.et.get(candidate.party, :display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=204'><pre>             add_ballot_mark @item, candidate, config.pdf.page_number, location</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=205'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=206'><pre>           @item.open_seat_count.times do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=207'><pre>             if bloc && rect.height < NEXT_COL_BOUNCE</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=208'><pre>                config.frame_item rect, top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=209'><pre>                rect = yield</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=210'><pre>              end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=211'><pre>             rect.top -= VPAD * 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=212'><pre>             left, location = config.draw_checkbox rect, config.bt[:or_write_in]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=213'><pre>             add_ballot_mark @item, "Writein", config.pdf.page_number, location</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=214'><pre>             config.pdf.dash 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=215'><pre>             v = 16</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=216'><pre>             config.pdf.stroke_line [rect.left + left, rect.top - v], </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=217'><pre>             [rect.right - 6, rect.top - v]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=218'><pre>             rect.top -= v</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=219'><pre>             config.pdf.undash</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=220'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=221'><pre>           rect.top -= 6 if @item.open_seat_count != 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=222'><pre>           config.frame_item rect, top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=223'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=224'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=225'><pre>         def draw_ranked(config, rect, &bloc)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=226'><pre>           top = rect.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=227'><pre>           pdf = config.pdf</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=228'><pre>           # title</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=229'><pre>           pdf.bounding_box [rect.left+HPAD, rect.top], :width => rect.width - HPAD2 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=230'><pre>             pdf.font "Helvetica", :size => 10, :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=231'><pre>             pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=232'><pre>             pdf.text config.et.get(@item, :display_name), :leading => 1 #header</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=233'><pre>             config.pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=234'><pre>             config.pdf.text config.short_instructions(@item), :leading => 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=235'><pre>             rect.top -= pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=236'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=237'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=238'><pre>           # Ordinals: 1st 2nd...</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=239'><pre>           hpad4 = HPAD2 * 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=240'><pre>           rect.top -= VPAD * 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=241'><pre>           count = @item.candidates.count</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=242'><pre>           checkbox_count = [@item.candidates.count, MAX_RANKED].min</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=243'><pre>           height = 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=244'><pre>           0.upto(checkbox_count - 1) do |i|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=245'><pre>             x = rect.left + HPAD2 + i * (BallotConfig::CHECKBOX_WIDTH + hpad4)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=246'><pre>             y = rect.top + VPAD </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=247'><pre>             pdf.bounding_box [x, y], :width => BallotConfig::CHECKBOX_WIDTH do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=248'><pre>               pdf.text(config.et.ordinalize(i + 1), :align => :center)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=249'><pre>               height = pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=250'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=251'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=252'><pre>           rect.top -= height;</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=253'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=254'><pre>           # checkboxes</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=255'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=256'><pre>           0.upto(count) do |i|  # candidates</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=257'><pre>             if bloc && rect.height < NEXT_COL_BOUNCE</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=258'><pre>               config.frame_item rect, top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=259'><pre>               rect = yield</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=260'><pre>               rect.top -= HPAD2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=261'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=262'><pre>             0.upto(checkbox_count - 1) do |j|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=263'><pre>               x = rect.left + HPAD2 + j * (BallotConfig::CHECKBOX_WIDTH + hpad4)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=264'><pre>               y = rect.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=265'><pre>               pdf.bounding_box [x, y], :width => BallotConfig::CHECKBOX_WIDTH do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=266'><pre>                 config.stroke_checkbox</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=267'><pre>                 f = pdf.font "Helvetica", :size => 9</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=268'><pre>                 pdf.move_down( (BallotConfig::CHECKBOX_HEIGHT - f.ascender) / 2)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=269'><pre>                 pdf.fill_color "999999"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=270'><pre>                 pdf.text( (j + 1).to_s, :align => :center)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=271'><pre>               end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=272'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=273'><pre>             pdf.fill_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=274'><pre>             spacer = HPAD2 + checkbox_count * (BallotConfig::CHECKBOX_WIDTH + hpad4)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=275'><pre>             pdf.font "Helvetica", :size => 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=276'><pre>             pdf.bounding_box [rect.left + spacer, rect.top], :width => rect.width - spacer do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=277'><pre>               if i < count</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=278'><pre>                 pdf.text config.et.get(@item.candidates[i], :display_name) + "\n" + config.et.get( @item.candidates[i].party, :display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=279'><pre>               else # writein</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=280'><pre>                 pdf.text config.bt[:or_write_in]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=281'><pre>                 pdf.dash 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=282'><pre>                 pdf.move_down 16</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=283'><pre>                 config.pdf.stroke_line [0, 0], [rect.width - spacer - HPAD2, 0]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=284'><pre>                 pdf.undash</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=285'><pre>                 pdf.move_down VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=286'><pre>               end            </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=287'><pre>               rect.top -= [pdf.bounds.height, BallotConfig::CHECKBOX_HEIGHT].max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=288'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=289'><pre>             pdf.move_down VPAD * 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=290'><pre>             rect.top -= VPAD * 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=291'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=292'><pre>           config.frame_item rect, top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=293'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=294'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=295'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=296'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=297'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=298'><pre>     class ContinuationBox</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=299'><pre>       def initialize(pdf)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=300'><pre>         @pdf = pdf</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=301'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=302'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=303'><pre>       def height(config, rect, last_page = false)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=304'><pre>         r = rect.clone;</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=305'><pre>         @pdf.transaction do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=306'><pre>           draw(config, r, last_page)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=307'><pre>           @pdf.rollback</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=308'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=309'><pre>         rect.top - r.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=310'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=311'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=312'><pre>       def draw(config, rect, last_page)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=313'><pre>         top = rect.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=314'><pre>         @pdf.font "Helvetica", :size => 10, :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=315'><pre>         unless last_page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=316'><pre>           circle_width = 20</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=317'><pre>           text_height = 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=318'><pre>           text_width = rect.width - circle_width - 8</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=319'><pre>           @pdf.bounding_box [rect.left+FlowItem::HPAD, rect.top], :width => text_width do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=320'><pre>             @pdf.move_down FlowItem::VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=321'><pre>             @pdf.text config.bt[:Continue_voting_next_side], :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=322'><pre>             @pdf.move_down FlowItem::VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=323'><pre>             text_height = @pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=324'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=325'><pre>           circle_top = rect.top - 6</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=326'><pre>           @pdf.bounding_box [rect.left + text_width, circle_top ], :width => rect.width - text_width - 8 , :height => circle_width do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=327'><pre>             @pdf.circle_at [circle_width / 2, circle_width / 2], :radius => circle_width / 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=328'><pre>             @pdf.fill_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=329'><pre>             @pdf.fill_and_stroke</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=330'><pre>             @pdf.stroke_color "FFFFFF"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=331'><pre>             @pdf.cap_style :round</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=332'><pre>             @pdf.line_width 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=333'><pre>             inset = 4</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=334'><pre>             @pdf.stroke_line [inset, circle_width / 2], [ circle_width - inset, circle_width / 2]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=335'><pre>             @pdf.move_to [circle_width / 2, circle_width - inset]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=336'><pre>             @pdf.line_to [circle_width - inset, circle_width / 2]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=337'><pre>             @pdf.line_to [circle_width / 2, inset]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=338'><pre>             @pdf.stroke</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=339'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=340'><pre>           rect.top -= text_height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=341'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=342'><pre>           @pdf.bounding_box [rect.left + FlowItem::HPAD, rect.top], :width => (rect.width - FlowItem::HPAD2) do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=343'><pre>             @pdf.move_down FlowItem::VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=344'><pre>             @pdf.text config.bt[:Thank_you], :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=345'><pre>             @pdf.move_down FlowItem::VPAD</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=346'><pre>             rect.top -= @pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=347'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=348'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=349'><pre>         @pdf.line_width 0.75</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=350'><pre>         @pdf.stroke_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=351'><pre>         @pdf.stroke_line([rect.left, rect.top], [rect.right, rect.top])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=352'><pre>         @pdf.stroke_line [rect.right, rect.top], [rect.right, top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=353'><pre>         @pdf.stroke_line [rect.left, rect.top], [rect.left, top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=354'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=355'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=356'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=357'><pre>     class BallotConfig</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=358'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=359'><pre>       attr_accessor :pdf, :page_size, :page_layout, :left_margin, :right_margin, :top_margin, :bottom_margin, :columns, :scanner</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=360'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=361'><pre>       CHECKBOX_WIDTH = 22</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=362'><pre>       CHECKBOX_HEIGHT = 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=363'><pre>       HPAD = 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=364'><pre>       HPAD2 = 6</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=365'><pre>       VPAD = 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=366'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=367'><pre>       def initialize(style, lang, election, scanner, instruction_text, state_seal, state_signature)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=368'><pre>         @file_root = "#{RAILS_ROOT}/app/ballots/#{style}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=369'><pre>         @election = election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=370'><pre>         @lang = lang</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=371'><pre>         @ballot_translation = PDFBallotStyle.get_ballot_translation(style, lang)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=372'><pre>         @election_translation = PDFBallotStyle.get_election_translation(election, lang)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=373'><pre>         @instruction_text = instruction_text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=374'><pre>         @state_seal = state_seal</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=375'><pre>         @state_signature = state_signature</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=376'><pre>         </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=377'><pre>         @page_size = "LETTER"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=378'><pre>         @page_layout = :portrait</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=379'><pre>         @left_margin = @right_margin = 18</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=380'><pre>         @top_margin = @bottom_margin = 30</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=381'><pre>         @pleaseVoteHeight = 30</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=382'><pre>         @padding = 8</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=383'><pre>         @columns = @columns || 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=384'><pre>         @checkbox_orientation = @checkbox_orientation || :left </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=385'><pre>         @scanner = scanner</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=386'><pre>         @scanner.set_checkbox(CHECKBOX_WIDTH, CHECKBOX_HEIGHT, @checkbox_orientation)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=387'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=388'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=389'><pre>       def setup(pdf, precinct)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=390'><pre>         @pdf = pdf</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=391'><pre>         @precinct = precinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=392'><pre>         if @lang == "zh"  # chinese fonts, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=393'><pre>           pdf.font_families.update({</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=394'><pre>           "Helvetica" => { :normal => "#{Rails.root}/fonts/Arial Unicode.ttf",</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=395'><pre>                            :bold => "#{Rails.root}/fonts/Arial Unicode.ttf" },</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=396'><pre>           "Courier" => { :normal => "#{Rails.root}/fonts/Arial Unicode.ttf" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=397'><pre>           })</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=398'><pre>           @wrap = :character</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=399'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=400'><pre>           pdf.font_families.update({</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=401'><pre>             "Helvetica" => { :normal => "#{Rails.root}/fonts/Arial Unicode.ttf",</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=402'><pre>                              :bold => "#{Rails.root}/fonts/Arial Bold.ttf" },</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=403'><pre>             "Courier" => { :normal => "#{Rails.root}/fonts/Courier New.ttf" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=404'><pre>               })</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=405'><pre>           @wrap = :space</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=406'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=407'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=408'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=409'><pre>       def load_text(filename)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=410'><pre>         IO.read "#{@file_root}/lang/#{@lang}/#{filename}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=411'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=412'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=413'><pre>       def image_path(filename)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=414'><pre>         full_path = "#{@file_root}/lang/#{@lang}/#{filename}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=415'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=416'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=417'><pre>       def load_image(filename)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=418'><pre>         return Prawn::Images::PNG.new(IO.read(image_path(filename))) if filename =~ /png$/</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=419'><pre>         return Prawn::Images::JPG.new(IO.read(image_path(filename)))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=420'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=421'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=422'><pre>       def ballot_translation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=423'><pre>         @ballot_translation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=424'><pre>       end     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=425'><pre>       alias bt ballot_translation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=426'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=427'><pre>       def election_translation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=428'><pre>         @election_translation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=429'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=430'><pre>       alias et election_translation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=431'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=432'><pre>       def create_continuation_box</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=433'><pre>         ContinuationBox.new(@pdf)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=434'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=435'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=436'><pre>       def create_columns(flow_rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=437'><pre>         AbstractBallot::Columns.new(@columns, flow_rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=438'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=439'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=440'><pre>       def short_instructions(item)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=441'><pre>         if item.is_a?(Contest)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=442'><pre>           if item.voting_method_id == VotingMethod::WINNER_TAKE_ALL.id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=443'><pre>             return bt[:Vote_for_1].sub("&1;", "1") if item.open_seat_count < 2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=444'><pre>             return bt[:Vote_for_many].sub("&1;", item.open_seat_count.to_s)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=445'><pre>           else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=446'><pre>             return bt[:Rank_candidates]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=447'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=448'><pre>         elsif item.is_a?(Question)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=449'><pre>           return bt[:Vote_yes_or_no]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=450'><pre>         else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=451'><pre>           raise "Unknown short instruction type #{item.class}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=452'><pre>         end      </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=453'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=454'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=455'><pre>       def wide_style</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=456'><pre>         # do narrow flow items continue flowing after wide ones?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=457'><pre>         return :continue # :stop for narrow items starting new column</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=458'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=459'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=460'><pre>       def debug_stroke_bounds #debug version, rainbow of colors</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=461'><pre>         @stroke_colors = ["FF0000", "00FF00", "0000FF", "FFFF00", "FF00FF", "00FFFF"] unless @stroke_colors</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=462'><pre>         old = @pdf.stroke_color</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=463'><pre>         @pdf.stroke_color = @stroke_colors.shift</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=464'><pre>         @pdf.dash(1)  if @pdf.bounds.height == 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=465'><pre>         @pdf.stroke_rectangle @pdf.bounds.top_left, @pdf.bounds.width, [@pdf.bounds.height, 5].max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=466'><pre>         @pdf.undash</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=467'><pre>         Rails.logger.info("bounds.height: #{@pdf.bounds.to_s}")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=468'><pre>         @stroke_colors.push @pdf.stroke_color</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=469'><pre>         @pdf.stroke_color = old</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=470'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=471'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=472'><pre>       def debug_rect(r)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=473'><pre>         @pdf.bounding_box([r.left, r.top], :width => r.width, :height => r.height) do </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=474'><pre>           debug_stroke_bounds</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=475'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=476'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=477'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=478'><pre>       def stroke_checkbox(pt = [0,0])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=479'><pre>         @pdf.line_width 1.5</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=480'><pre>         @pdf.fill_color "FFFFFF"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=481'><pre>         @pdf.stroke_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=482'><pre>         @pdf.rectangle pt, CHECKBOX_WIDTH, CHECKBOX_HEIGHT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=483'><pre>         @pdf.fill_and_stroke</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=484'><pre>         @pdf.fill_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=485'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=486'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=487'><pre>       def draw_checkbox(rect, text)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=488'><pre>   #      @pdf.bounding_box [rect.left + FlowItem::HPAD2, rect.top], :width => CHECKBOX_WIDTH do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=489'><pre>   #        stroke_checkbox</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=490'><pre>   #      end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=491'><pre>         check_top_left, location = @scanner.align_checkbox(@pdf, [rect.left + FlowItem::HPAD2, rect.top])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=492'><pre>         stroke_checkbox check_top_left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=493'><pre>   #      @pdf.bounding_box check_top_left.dup, :width => CHECKBOX_WIDTH do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=494'><pre>   #        @pdf.fill_color "FF0000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=495'><pre>   #        @pdf.rectangle [0,0], CHECKBOX_WIDTH, CHECKBOX_HEIGHT</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=496'><pre>   #        @pdf.fill_and_stroke</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=497'><pre>   #        @pdf.fill_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=498'><pre>   #      end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=499'><pre>         rect.top -= rect.top - check_top_left[1]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=500'><pre>   #      spacer = 2 * FlowItem::HPAD2 + CHECKBOX_WIDTH</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=501'><pre>         spacer = check_top_left[0] - rect.left + CHECKBOX_WIDTH + FlowItem::HPAD2</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=502'><pre>         @pdf.bounding_box [rect.left + spacer, rect.top], :width => rect.width - spacer do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=503'><pre>           @pdf.font "Helvetica", :size => 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=504'><pre>           @pdf.text text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=505'><pre>           rect.top -= [@pdf.bounds.height, CHECKBOX_HEIGHT].max</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=506'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=507'><pre>         return spacer, location  # returns left-hand side of text position</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=508'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=509'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=510'><pre>       def frame_item(rect, top)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=511'><pre>         @pdf.line_width 0.5</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=512'><pre>         @pdf.stroke_line([rect.left, rect.top], [rect.right, rect.top])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=513'><pre>         @pdf.stroke_line [rect.right, rect.top], [rect.right, top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=514'><pre>         @pdf.stroke_line [rect.left, rect.top], [rect.left, top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=515'><pre>       end </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=516'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=517'><pre>       def render_frame(flow_rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=518'><pre>         bar_width = 18</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=519'><pre>         bar_height = 140</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=520'><pre>         @scanner.render_grid(@pdf)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=521'><pre>         @scanner.render_ballot_marks(@pdf)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=522'><pre>         @pdf.bounding_box [0, @pdf.bounds.height - @pleaseVoteHeight + 35], :width => @pdf.bounds.width, :height => @pdf.bounds.height - @pleaseVoteHeight * 2 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=523'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=524'><pre>           @pdf.stroke_rectangle [bar_width + @padding,@pdf.bounds.height], </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=525'><pre>           @pdf.bounds.width - (bar_width + @padding)* 2, @pdf.bounds.height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=526'><pre>           @pdf.font "Courier", :size => 14</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=527'><pre>           @pdf.draw_text bt[:Sample_Ballot], :at => [16, 275], :rotate => 90</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=528'><pre>           @pdf.draw_text bt[:Sample_Ballot], :at => [@pdf.bounds.right - 2 , 275], :rotate => 90</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=529'><pre>           @pdf.draw_text "12001040100040", :at => [16, 410], :rotate => 90</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=530'><pre>           @pdf.draw_text "132301113", :at => [@pdf.bounds.right - 2, 146], :rotate => 90</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=531'><pre>           flow_rect.inset bar_width + @padding, @pleaseVoteHeight</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=532'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=533'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=534'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=535'><pre>       def render_header(flow_rect)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=536'><pre>         @pdf.font "Helvetica", :size => 13,  :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=537'><pre>         @pdf.bounding_box [flow_rect.left + @padding, flow_rect.top], </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=538'><pre>         :width => flow_rect.width - @padding do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=539'><pre>           @pdf.move_down 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=540'><pre>           @pdf.text bt[:OFFICIAL_BALLOT]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=541'><pre>           @pdf.text et.strftime(@election.start_date, "%B %d, %Y")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=542'><pre>           @pdf.bounding_box [@pdf.bounds.width / 3,  @pdf.bounds.height], </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=543'><pre>           :width => @pdf.bounds.width * 2 / 3 do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=544'><pre>             @pdf.move_down 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=545'><pre>             @pdf.text et.get(@election, :display_name), :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=546'><pre>             @pdf.text et.get(@precinct, :display_name), :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=547'><pre>             @pdf.move_down(@padding / 3)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=548'><pre>             flow_rect.top -= @pdf.bounds.height  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=549'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=550'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=551'><pre>         @pdf.stroke_color "000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=552'><pre>         @pdf.stroke_line [flow_rect.left, flow_rect.top], [flow_rect.right, flow_rect.top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=553'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=554'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=555'><pre>       def render_column_instructions(columns, page)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=556'><pre>         return if page != 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=557'><pre>         rect = columns.next</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=558'><pre>         top = rect.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=559'><pre>         @pdf.font "Helvetica", :size => 9, :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=560'><pre>         @pdf.bounding_box( [rect.left + @padding, rect.top], </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=561'><pre>                           :width => rect.width - @padding * 2) do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=562'><pre>           @pdf.move_down 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=563'><pre>           @pdf.text @instruction_text</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=564'><pre>           #@pdf.text load_text("instructions1.txt"), :wrap => @wrap </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=565'><pre>          </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=566'><pre>   #        img = load_image "instructions2.png"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=567'><pre>   #        @pdf.image image_path("instructions2.png"), </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=568'><pre>   #        :width => [img.width * 72 / 96, @pdf.bounds.width].min</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=569'><pre>   #        @pdf.move_down 3</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=570'><pre>   #        @pdf.text load_text("instructions3.txt"), :wrap => @wrap</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=571'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=572'><pre>         rect.top = rect.bottom</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=573'><pre>         @pdf.line_width 0.5</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=574'><pre>         @pdf.stroke_line([rect.left, rect.top], [rect.right, rect.top])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=575'><pre>         @pdf.stroke_line [rect.right, rect.top], [rect.right, top]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=576'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=577'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=578'><pre>       def page_complete(pagenum, last_page)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=579'><pre>         unless last_page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=580'><pre>           @pdf.font "Helvetica", :size => 14, :style => :bold</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=581'><pre>           @pdf.bounding_box [ 0 , @pdf.bounds.height ], :width => @pdf.bounds.width do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=582'><pre>             @pdf.text bt[:Vote_Both_Sides], :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=583'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=584'><pre>           @pdf.bounding_box [ 0 , @pleaseVoteHeight ], :width => @pdf.bounds.width do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=585'><pre>             @pdf.move_down 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=586'><pre>             @pdf.text bt[:Vote_Both_Sides], :align => :center</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=587'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=588'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=589'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=590'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=591'><pre>       def create_flow_item(item)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=592'><pre>         case</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=593'><pre>         when item.is_a?(Contest) then FlowItem::Contest.new(item, @scanner)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=594'><pre>         when item.is_a?(Question) then FlowItem::Question.new(item, @scanner)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=595'><pre>         when item.is_a?(String) then FlowItem::Header.new(item, @scanner)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=596'><pre>         when item.is_a?(Array) then FlowItem::Combo.new(item)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=597'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=598'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=599'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=600'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=601'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/default/ballot_config.rb&line=602'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ttv_import_export_rb"> app/ttv/import_export.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=1'><pre>   require 'rexml/document'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=3'><pre>   module TTV</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=4'><pre>     module ImportExport</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=5'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=6'><pre>       # imports an election from standard XML format</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=7'><pre>       class Import</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=8'><pre>         def initialize(source)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=9'><pre>           @source = source</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=10'><pre>           @importIdDistrictMap = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=11'><pre>           @precinctsMasterList = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=12'><pre>           @election = nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=13'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=14'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=15'><pre>         def importQuestions(xmlQuestions)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=16'><pre>           questions = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=17'><pre>           xmlQuestions.each do |xmlQuestion|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=18'><pre>             xmlText = xmlQuestion.get_elements('text')</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=19'><pre>             text = xmlText.size > 0 ? xmlText[0].text : ""</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=20'><pre>             text = text.rstrip.lstrip</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=21'><pre>             question = Question.create(:display_name => xmlQuestion.attributes['display_name'],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=22'><pre>             :requesting_district_id => @importIdDistrictMap[xmlQuestion.attributes['district_idref']],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=23'><pre>             :election_id => @election.id,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=24'><pre>             :question => text );</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=25'><pre>             questions.push(question)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=26'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=27'><pre>           questions</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=28'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=29'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=30'><pre>         def importCandidate(xmlCandidate)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=31'><pre>           party_name = xmlCandidate.attributes['party']</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=32'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=33'><pre>           party = Party.find_by_display_name(party_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=34'><pre>           if party.nil? </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=35'><pre>             party = Party.new(:display_name => party_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=36'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=37'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=38'><pre>           #puts "XML Import: " + xmlCandidate.attributes['display_name'] + party.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=39'><pre>           new_candidate = Candidate.new(:display_name => xmlCandidate.attributes['display_name'],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=40'><pre>                         :party_id => party.id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=41'><pre>           new_candidate.party = party</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=42'><pre>           new_candidate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=43'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=44'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=45'><pre>         def importContests(xmlContests)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=46'><pre>           contests = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=47'><pre>           xmlContests.each do |xmlContest|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=48'><pre>             contest = Contest.create(:display_name => xmlContest.attributes['display_name'],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=49'><pre>             :position => xmlContest.attributes['order'] || 0,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=50'><pre>             :open_seat_count => xmlContest.attributes['open_seat'],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=51'><pre>             :voting_method_id => VotingMethod.xmlToId(xmlContest.attributes['voting_method'] || 'winner'),</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=52'><pre>             :district_id => @importIdDistrictMap[xmlContest.attributes['district_idref']],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=53'><pre>             :election_id => @election.id )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=54'><pre>             xmlContest.get_elements('candidates/candidate').each do | xmlCandidate |</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=55'><pre>               contest.candidates << importCandidate(xmlCandidate)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=56'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=57'><pre>             contests.push(contest)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=58'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=59'><pre>           contests</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=60'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=61'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=62'><pre>         def createPrecinct(id, precinctsMasterList)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=63'><pre>           newPrecinct = Precinct.new()</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=64'><pre>           newPrecinct.importId = id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=65'><pre>           precinctsMasterList[id] = newPrecinct</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=66'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=67'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=68'><pre>         def importDistrict(xmlDistrict, precinctsMasterList)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=69'><pre>           district = District.new(:display_name => xmlDistrict.attributes['display_name'], </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=70'><pre>                                   :district_type_id => DistrictType.xmlToId(xmlDistrict.attributes['type'] ))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=71'><pre>           importPrecincts = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=72'><pre>           xmlDistrict.get_elements('precinct').each do |xmlPrecinct|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=73'><pre>             id = xmlPrecinct.attributes['idref']</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=74'><pre>             if precinctsMasterList[id]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=75'><pre>               importPrecincts[id] = precinctsMasterList[id]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=76'><pre>             else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=77'><pre>               importPrecincts[id] = createPrecinct(id, precinctsMasterList)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=78'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=79'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=80'><pre>           district.importId = xmlDistrict.attributes['id']</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=81'><pre>           district.importPrecincts = importPrecincts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=82'><pre>           district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=83'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=84'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=85'><pre>         # districts/precincts are REXML elements</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=86'><pre>         def importDistrictSet(xmlDistricts, xmlPrecincts)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=87'><pre>           newSet = DistrictSet.new(:display_name => xmlDistricts.attributes['display_name'])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=88'><pre>           newDistricts = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=89'><pre>           newPrecincts = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=90'><pre>           xmlDistricts.get_elements('district').each do |xmlDistrict|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=91'><pre>             newDistricts << importDistrict(xmlDistrict, newPrecincts)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=92'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=93'><pre>           xmlPrecincts.get_elements('precinct').each do |xmlPrecinct|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=94'><pre>             id = xmlPrecinct.attributes['id']</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=95'><pre>             unless newPrecincts[id]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=96'><pre>               newPrecincts[id] = Precinct.new()</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=97'><pre>               newPrecincts.importId = id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=98'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=99'><pre>             newPrecincts[id].display_name = xmlPrecinct.attributes['display_name']</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=100'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=101'><pre>           # we have all new districts & precincts loaded, see if this district set is duplicate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=102'><pre>           # duplicate? is a heuristic</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=103'><pre>           duplicates = DistrictSet.find_all_by_display_name(newSet.display_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=104'><pre>           duplicates.each do |dup|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=105'><pre>             if dup.districts.size == newDistricts.size && dup.precincts.size == newPrecincts.size</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=106'><pre>               newDistricts.each do |district|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=107'><pre>                 match = dup.districts.detect { |item| item.display_name == district.display_name}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=108'><pre>                 next unless match</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=109'><pre>                 @importIdDistrictMap[district.importId] = match.id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=110'><pre>               end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=111'><pre>               return dup</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=112'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=113'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=114'><pre>           # duplicate not found, create the whole set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=115'><pre>           newSet.save!</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=116'><pre>           newSet.reload</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=117'><pre>           newPrecincts.each_value { |precinct| precinct.save! }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=118'><pre>           newDistricts.each do |district|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=119'><pre>             district.save!</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=120'><pre>             district.importPrecincts.each_value { |precinct| district.precincts << precinct }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=121'><pre>             newSet.districts << district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=122'><pre>             @importIdDistrictMap[district.importId] = district.id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=123'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=124'><pre>           newSet</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=125'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=126'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=127'><pre>         def import</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=128'><pre>             doc = REXML::Document.new @source</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=129'><pre>             xmlElection = doc.root</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=130'><pre>             raise "Invalid XML: <election> is not the root. " unless xmlElection.name == 'election' </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=131'><pre>             ActiveRecord::Base.transaction do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=132'><pre>               district_set = importDistrictSet(xmlElection.get_elements('districts')[0],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=133'><pre>               xmlElection.get_elements('precincts')[0])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=134'><pre>               @election = Election.create(:display_name => xmlElection.attributes['display_name'],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=135'><pre>               :start_date => xmlElection.attributes['start_date'],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=136'><pre>               :district_set_id => district_set.id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=137'><pre>               contests = importContests(xmlElection.get_elements('body/contest'))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=138'><pre>               questions = importQuestions(xmlElection.get_elements('body/question'))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=139'><pre>             end </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=140'><pre>           @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=141'><pre>        end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=142'><pre>        </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=143'><pre>        </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=144'><pre>         def import_batch</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=145'><pre>          xml_dir = Dir.new(@source)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=146'><pre>          xml_dir.each do |xml_file|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=147'><pre>            if xml_file[xml_file.length - 3..xml_file.length] == 'xml' && xml_file.class == 'File'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=148'><pre>              file = File.new("#{@source}/#{xml_file}")</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=149'><pre>              doc = REXML::Document.new(file)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=150'><pre>              xmlElection = doc.root</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=151'><pre>              raise "Invalid XML: <election> is not the root. " unless xmlElection.name == 'election'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=152'><pre>              ActiveRecord::Base.transaction do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=153'><pre>                district_set = importDistrictSet(xmlElection.get_elements('districts')[0],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=154'><pre>                xmlElection.get_elements('precincts')[0])</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=155'><pre>                @election = Election.create(:display_name => xmlElection.attributes['display_name'],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=156'><pre>                :start_date => xmlElection.attributes['start_date'],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=157'><pre>                :district_set_id => district_set.id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=158'><pre>                contests = importContests(xmlElection.get_elements('body/contest'))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=159'><pre>                questions = importQuestions(xmlElection.get_elements('body/question'))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=160'><pre>              end </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=161'><pre>            end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=162'><pre>          end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=163'><pre>          @election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=164'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=165'><pre>      </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=166'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=167'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=168'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=169'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=170'><pre>       # exports the election as XML</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=171'><pre>       class Export</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=172'><pre>         def initialize(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=173'><pre>           @election = election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=174'><pre>           @xml = nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=175'><pre>           </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=176'><pre>           @ballot_config = @election.district_set == DistrictSet.find(0)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=177'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=178'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=179'><pre>         def exportDistrict(district)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=180'><pre>           @xml.district :id => district.id, :display_name => district.display_name, :type => district.district_type.idToXml do </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=181'><pre>             district.precincts.each do | precinct |</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=182'><pre>               @xml.precinct :idref => precinct.id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=183'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=184'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=185'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=186'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=187'><pre>         def exportPrecinct(precinct)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=188'><pre>           @xml.precinct :id => precinct.id, :display_name => precinct.display_name        </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=189'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=190'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=191'><pre>         def exportDistrictSet(district_set)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=192'><pre>           @xml.districts :display_name => district_set.display_name do </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=193'><pre>             district_set.districts.each do |district|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=194'><pre>               exportDistrict(district)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=195'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=196'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=197'><pre>           @xml.precincts do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=198'><pre>             district_set.precincts.each do | precinct |</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=199'><pre>               exportPrecinct(precinct)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=200'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=201'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=202'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=203'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=204'><pre>         def exportCandidate(candidate)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=205'><pre>           #puts "XML export: " + candidate.display_name + " " + candidate.party.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=206'><pre>           @xml.candidate :display_name => candidate.display_name,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=207'><pre>             :party => candidate.party.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=208'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=209'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=210'><pre>         def exportContest(contest)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=211'><pre>           @xml.contest :display_name => contest.display_name, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=212'><pre>           :open_seat => contest.open_seat_count,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=213'><pre>           :voting_method => contest.voting_method.idToXml,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=214'><pre>           :district_idref => contest.district_id,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=215'><pre>           :order => contest.position do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=216'><pre>             @xml.candidates do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=217'><pre>               contest.candidates.each do |candidate|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=218'><pre>                 exportCandidate(candidate)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=219'><pre>               end </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=220'><pre>             end if contest.candidates.size != 0</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=221'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=222'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=223'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=224'><pre>         def exportQuestion(question)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=225'><pre>           @xml.question :display_name => question.display_name, :district_idref => question.requesting_district_id do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=226'><pre>             @xml.text do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=227'><pre>               @xml << question.question</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=228'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=229'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=230'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=231'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=232'><pre>         def export</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=233'><pre>           @xml = Builder::XmlMarkup.new( { :skip_types => true, :indent => 2 })</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=234'><pre>           @options = { :skip_types => true, :indent => 2, :skip_instruct => true, :builder => @xml}          </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=235'><pre>           @xml.instruct!</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=236'><pre>           @xml.election :display_name => @election.display_name, :start_date => @election.start_date do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=237'><pre>             exportDistrictSet(@election.district_set)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=238'><pre>             @xml.body do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=239'><pre>               @election.contests.each do |contest|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=240'><pre>                 exportContest(contest)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=241'><pre>               end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=242'><pre>               @election.questions.each do |question|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=243'><pre>                 exportQuestion(question)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=244'><pre>               end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=245'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=246'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=247'><pre>           @xml.target!</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=248'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=249'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=250'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=251'><pre>       def ImportExport.export(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=252'><pre>         exporter = TTV::ImportExport::Export.new(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=253'><pre>         exporter.export</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=254'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=255'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=256'><pre>       def ImportExport.import(source)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=257'><pre>         begin</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=258'><pre>           importer = TTV::ImportExport::Import.new(source)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=259'><pre>           importer.import();</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=260'><pre>         rescue Exception => ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=261'><pre>           raise ex</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=262'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=263'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=264'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=265'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/import_export.rb&line=266'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_user_rb"> app/models/user.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=4'><pre>   # Table name: users</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=6'><pre>   #  id                 :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=7'><pre>   #  email              :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=8'><pre>   #  crypted_password   :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=9'><pre>   #  password_salt      :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=10'><pre>   #  persistence_token  :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=11'><pre>   #  perishable_token   :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=12'><pre>   #  failed_login_count :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=13'><pre>   #  created_at         :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=14'><pre>   #  updated_at         :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=15'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=16'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=17'><pre>   class User < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=18'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=19'><pre>     has_many :roles, :class_name => "UserRole"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=20'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=21'><pre>     def role?(role_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=22'><pre>       # roles.map(&:name)  build an array of role names for this user.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=23'><pre>       # include?(role_name.to_s)  check if the role_name param is in</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=24'><pre>       # this array</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=25'><pre>       role_name && !roles.blank? && roles.map(&:name).include?(role_name.to_s)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=26'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=27'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=28'><pre>     attr_accessible :email, :password, :password_confirmation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=29'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=30'><pre>     acts_as_authentic do |c|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=31'><pre>       c.merge_validates_length_of_password_field_options( { :minimum => 1, :too_short => "needs to be 1 chars"})</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=32'><pre>       c.ignore_blank_passwords=true</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=33'><pre>       c.perishable_token_valid_for=24.hours</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=34'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=35'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=36'><pre>     def deliver_password_reset_instructions!  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=37'><pre>       reset_perishable_token!</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=38'><pre>       Notifier.deliver_password_reset_instructions(self)  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=39'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=40'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user.rb&line=41'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ttv_scanner_rb"> app/ttv/scanner.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=1'><pre>   module TTV</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=3'><pre>     class BallotMark</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=4'><pre>       def initialize(contest, choice, page, location)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=5'><pre>         @contest = contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=6'><pre>         @page = page</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=7'><pre>         @choice = choice</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=8'><pre>         @location = location</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=9'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=10'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=11'><pre>       def to_json(*a)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=12'><pre>         x = { :contest => @contest.id,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=13'><pre>           :choice => ((@choice.instance_of? String) ? @choice : @choice.id ),</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=14'><pre>           :page => @page,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=15'><pre>           :location => @location</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=16'><pre>         }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=17'><pre>         x.to_json(*a)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=18'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=19'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=20'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=21'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=22'><pre>     class Scanner</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=23'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=24'><pre>       attr_accessor :ballot_marks</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=25'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=26'><pre>       def initialize</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=27'><pre>         @hspace = 72 / 4  # 1/2 inch</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=28'><pre>         @vspace = 72 / 4  # 1/2 inch</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=29'><pre>         @bar_width = 18</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=30'><pre>         @bar_height = 140</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=31'><pre>         @ballot_marks = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=32'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=33'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=34'><pre>       def to_json(*a)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=35'><pre>         @ballot_marks.to_json(*a)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=36'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=37'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=38'><pre>       def set_checkbox(width, height, orientation)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=39'><pre>         @check_width = width</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=40'><pre>         @check_height = height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=41'><pre>         @orientation = orientation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=42'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=43'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=44'><pre>       def create_ballot_mark(contest, choice, page, location )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=45'><pre>         BallotMark.new(contest, choice, page, location)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=46'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=47'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=48'><pre>       def append_ballot_marks(marks)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=49'><pre>         @ballot_marks.concat(marks)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=50'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=51'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=52'><pre>       def render_grid(pdf)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=53'><pre>         pdf.canvas do</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=54'><pre>           pdf.fill_color = 'FFFF00'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=55'><pre>           x = ((pdf.bounds.right - pdf.bounds.left) / (@check_width + @hspace)).floor</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=56'><pre>           y = ((pdf.bounds.top - pdf.bounds.bottom) / (@check_height + @vspace)).floor</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=57'><pre>           x.times do |i|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=58'><pre>             y.times do |j|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=59'><pre>               my_x = (@check_width + @hspace) * i</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=60'><pre>               my_y = pdf.bounds.top - (@check_height + @vspace) * j</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=61'><pre>   #            pdf.rectangle([ my_x, my_y], @check_width, @check_height)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=62'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=63'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=64'><pre>           pdf.fill</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=65'><pre>           pdf.fill_color = '000000'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=66'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=67'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=68'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=69'><pre>       # our grid is aligned to top/left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=70'><pre>       # beware of this when trying to align the y axis  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=71'><pre>       def align_checkbox(pdf, point)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=72'><pre>         x_offset = pdf.bounds.absolute_left</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=73'><pre>         y_offset = pdf.bounds.absolute_top - pdf.bounds.top</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=74'><pre>         x = (point[0] + x_offset) / (@check_width + @hspace)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=75'><pre>         x_count = @orientations == :left ? x.ceil : x.floor</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=76'><pre>         x = x.ceil * (@check_width + @hspace) - x_offset</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=77'><pre>         y = (pdf.bounds.absolute_top - point[1] + y_offset) / (@check_height + @vspace)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=78'><pre>         y_count = y.ceil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=79'><pre>         y = pdf.bounds.absolute_top - (y.ceil * (@check_height + @vspace)) + y_offset</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=80'><pre>         return [x, y], [x_count, y_count]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=81'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=82'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=83'><pre>       def render_ballot_marks(pdf)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=84'><pre>         pdf.fill_color = "#000000"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=85'><pre>         pdf.rectangle [0, @bar_height], @bar_width, @bar_height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=86'><pre>         pdf.rectangle pdf.bounds.top_left, @bar_width, @bar_height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=87'><pre>         pdf.rectangle [pdf.bounds.right - @bar_width, @bar_height], @bar_width, @bar_height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=88'><pre>         pdf.rectangle [pdf.bounds.right - @bar_width, pdf.bounds.top], @bar_width, @bar_height</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=89'><pre>         pdf.fill_and_stroke</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=90'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=91'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=92'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/scanner.rb&line=93'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_voting_method_rb"> app/models/voting_method.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=4'><pre>   # Table name: voting_methods</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=6'><pre>   #  id           :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=7'><pre>   #  display_name :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=8'><pre>   #  created_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=9'><pre>   #  updated_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=10'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=11'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=12'><pre>   class VotingMethod < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=13'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=14'><pre>     include ConstantCache</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=15'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=16'><pre>     cache_constants :key => :display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=17'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=18'><pre>     def idToXml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=19'><pre>       self.display_name.downcase</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=20'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=21'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=22'><pre>     def VotingMethod.xmlToId(xml)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=23'><pre>       raise "illegal voting method #{xml}" unless const_get(xml.constant_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=24'><pre>       const_get(xml.constant_name).id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=25'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=26'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=27'><pre>     def to_i</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=28'><pre>       id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=29'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=30'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=31'><pre>     def self.determine_default_voting_method(contest)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=32'><pre>       VotingMethod.find(contest.election.default_voting_method_id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=33'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=34'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/voting_method.rb&line=35'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_contest_rb"> app/models/contest.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=4'><pre>   # Table name: contests</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=6'><pre>   #  id               :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=7'><pre>   #  display_name     :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=8'><pre>   #  open_seat_count  :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=9'><pre>   #  voting_method_id :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=10'><pre>   #  district_id      :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=11'><pre>   #  election_id      :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=12'><pre>   #  created_at       :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=13'><pre>   #  updated_at       :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=14'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=15'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=16'><pre>   class Contest < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=17'><pre>     # requesting district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=18'><pre>     belongs_to  :district</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=19'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=20'><pre>     belongs_to :election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=21'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=22'><pre>     belongs_to :voting_method</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=23'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=24'><pre>     has_many :candidates, :dependent => :destroy, :order => :display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=25'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=26'><pre>     attr_accessible :display_name, :open_seat_count, :voting_method_id , :candidates_attributes, :election_id, :district_id, :position</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=27'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=28'><pre>     accepts_nested_attributes_for :candidates, :allow_destroy => true, :reject_if => proc { |attributes| attributes['display_name'].blank? }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=29'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=30'><pre>     validates_presence_of :display_name, :open_seat_count, :voting_method_id, :district_id, :election_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=31'><pre>     validates_numericality_of :open_seat_count</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=32'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=33'><pre>     def validate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=34'><pre>       osc = open_seat_count.to_i</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=35'><pre>       errors.add(:open_seat_count, "must be more than 0") if osc < 1</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=36'><pre>       errors.add(:open_seat_count, "must be less than 10") if osc > 10</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=37'><pre>       errors.add(:voting_method_id, "is invalid") if !VotingMethod.exists?(voting_method_id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=38'><pre>       errors.add(:district_id, "is invalid") if !District.exists?(district_id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=39'><pre>       errors.add(:election_id, "is invalid") if !Election.exists?(election_id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=40'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=41'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=42'><pre>     def after_initialize</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=43'><pre>       write_attribute(:open_seat_count, 1) if !open_seat_count</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=44'><pre>       write_attribute(:voting_method_id, 0) if !voting_method_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=45'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=46'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=47'><pre>     def to_s</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=48'><pre>       "CONTEST #{self.display_name}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=49'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=50'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=51'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=52'><pre>     def self.contests_for_precinct_election(p, e)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=53'><pre>       d = p.districts_for_election(e)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=54'><pre>       e.contests.map do |c|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=55'><pre>         c if d.include?(c.district)      </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=56'><pre>       end.flatten.compact</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=57'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=58'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/contest.rb&line=59'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_precinct_rb"> app/models/precinct.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=4'><pre>   # Table name: precincts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=6'><pre>   #  id           :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=7'><pre>   #  display_name :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=8'><pre>   #  created_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=9'><pre>   #  updated_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=10'><pre>   #  ident        :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=11'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=12'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=13'><pre>   class Precinct < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=14'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=15'><pre>     has_and_belongs_to_many :districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=16'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=17'><pre>     attr_accessor :importId # for xml import, hacky could do this by dynamically extending class at runtime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=18'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=19'><pre>     validates_presence_of :ident</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=20'><pre>     validates_uniqueness_of :ident, :message => "Non-unique Precinct ident attempted: {{value}}."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=21'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=22'><pre>     # Make sure that ident is not nil. If it is, create a unique one.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=23'><pre>     def before_validation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=24'><pre>       if self.blank? || self.ident.blank?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=25'><pre>         self.ident = "prec-#{ActiveSupport::SecureRandom.hex}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=26'><pre>         self.save!</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=27'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=28'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=29'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=30'><pre>     def districts_for_election(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=31'><pre>       districts & election.district_set.districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=32'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=33'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=34'><pre>     # Return a list of DistrictSets tjat this Precinct belongs to. </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=35'><pre>     # In the real world, this should always be a list of length 1, even though the data model permits more</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=36'><pre>     def district_sets</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=37'><pre>       districts.reduce([]) { |res, dist| res.include?(dist.district_sets[0]) ? res : res << dist.district_sets[0] }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=38'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/precinct.rb&line=39'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_controllers_application_controller_rb"> app/controllers/application_controller.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=1'><pre>   # Filters added to this controller apply to all controllers in the application.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=2'><pre>   # Likewise, all the methods added will be available for all controllers.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=3'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=4'><pre>   class ApplicationController < ActionController::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=5'><pre>     helper :all # include all helpers, all the time</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=7'><pre>     # See ActionController::RequestForgeryProtection for details</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=8'><pre>     protect_from_forgery </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=9'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=10'><pre>     # Scrub sensitive parameters from your log</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=11'><pre>     filter_parameter_logging :password,:confirm_password</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=12'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=13'><pre>     helper_method :current_user, :pretty_date, :pluralize, :current_context</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=14'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=15'><pre>     before_filter :disable_etags</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=16'><pre>     after_filter :flash_xhr</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=17'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=18'><pre>     rescue_from CanCan::AccessDenied do |exception|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=19'><pre>       flash[:error] = "Access Denied"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=20'><pre>       redirect_to root_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=21'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=22'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=23'><pre>     def disable_etags</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=24'><pre>       # TODO remove this function when in production</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=25'><pre>       fresh_when(:etag => rand)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=26'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=27'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=28'><pre>     def current_context</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=29'><pre>       @user_context ||= UserContext.new(session)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=30'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=31'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=32'><pre>     private</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=33'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=34'><pre>     def pluralize(count, singular, plural = nil)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=35'><pre>       "#{count || 0} " + ((count == 1 || count == '1') ? singular : (plural || singular.pluralize))</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=36'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=37'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=38'><pre>     # displays flash errors for Ajax requests</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=39'><pre>     def flash_xhr</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=40'><pre>       return if ! (request.xhr? && Mime::Type.lookup(response.content_type) == :js)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=41'><pre>       headers['X-JSON'] = flash.to_json;</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=42'><pre>       flash.discard</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_not_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=43'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=44'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=45'><pre>     def pretty_date(d)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=46'><pre>       return d.strftime("%A, %B %d %Y, %I:%M %p %Z") if d.respond_to? :strftime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=47'><pre>       return d.to_s unless d.nil?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=48'><pre>       return "unspecified date"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=49'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=50'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=51'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=52'><pre>     # </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=53'><pre>     # Authlogic authenticatoin methods</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=54'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=55'><pre>     #authlogic</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=56'><pre>     def current_user_session</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=57'><pre>       return @current_user_session if defined?(@current_user_session)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=58'><pre>       @current_user_session = UserSession.find</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=59'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=60'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=61'><pre>     #authlogic</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=62'><pre>     def current_user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=63'><pre>       return @current_user if defined?(@current_user)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=64'><pre>       @current_user = current_user_session && current_user_session.record</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=65'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=66'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=67'><pre>     #authlogic</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=68'><pre>     def require_user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=69'><pre>       unless current_user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=70'><pre>         store_location</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=71'><pre>         flash[:notice]    = "You must be logged in to access this page"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=72'><pre>         redirect_to new_user_session_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=73'><pre>         return false</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=74'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=75'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=76'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=77'><pre>     #authlogic</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=78'><pre>     def require_no_user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=79'><pre>       if current_user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=80'><pre>         store_location</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=81'><pre>         flash[:notice]    = "You must be logged out to access this page"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=82'><pre>         redirect_to account_url</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=83'><pre>         return false</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=84'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=85'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=86'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=87'><pre>     #authlogic</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=88'><pre>     def store_location</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=89'><pre>       session[:return_to] = request.request_uri</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=90'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=91'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=92'><pre>     #authlogic</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=93'><pre>     def redirect_back_or_default(default)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=94'><pre>       redirect_to(session[:return_to] || default)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=95'><pre>       session[:return_to] = nil</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=96'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=97'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/controllers/application_controller.rb&line=98'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_media_helper_rb"> app/helpers/media_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/media_helper.rb&line=1'><pre>   module MediaHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/media_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_district_types_helper_rb"> app/helpers/district_types_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/district_types_helper.rb&line=1'><pre>   module DistrictTypesHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/district_types_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_district_type_rb"> app/models/district_type.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=4'><pre>   # Table name: district_types</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=6'><pre>   #  id         :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=7'><pre>   #  title      :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=8'><pre>   #  created_at :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=9'><pre>   #  updated_at :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=10'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=11'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=12'><pre>   class DistrictType < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=13'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=14'><pre>     include ConstantCache</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=15'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=16'><pre>     cache_constants :key => :title</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=17'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=18'><pre>     def DistrictType.xmlToId(xml)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=19'><pre>       raise "unknown district type #{xml}" unless const_get(xml.constant_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=20'><pre>       const_get(xml.constant_name).id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=21'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=22'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=23'><pre>     def idToXml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=24'><pre>       self.title.downcase</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=25'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_type.rb&line=26'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_user_sessions_helper_rb"> app/helpers/user_sessions_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/user_sessions_helper.rb&line=1'><pre>   module UserSessionsHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/user_sessions_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_jurisdiction_helper_rb"> app/helpers/jurisdiction_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/jurisdiction_helper.rb&line=1'><pre>   module JurisdictionHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/jurisdiction_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_districts_helper_rb"> app/helpers/districts_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/districts_helper.rb&line=1'><pre>   module DistrictsHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/districts_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_ballot_style_template_rb"> app/models/ballot_style_template.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ballot_style_template.rb&line=1'><pre>   class BallotStyleTemplate < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ballot_style_template.rb&line=2'><pre>     validates_presence_of [:display_name,:instruction_text,:state_graphic], :on => :create, :message => "can't be blank"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ballot_style_template.rb&line=3'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_district_sets_helper_rb"> app/helpers/district_sets_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/district_sets_helper.rb&line=1'><pre>   module DistrictSetsHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/district_sets_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_candidates_helper_rb"> app/helpers/candidates_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/candidates_helper.rb&line=1'><pre>   module CandidatesHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/candidates_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_user_role_rb"> app/models/user_role.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_role.rb&line=1'><pre>   class UserRole < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_role.rb&line=2'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_role.rb&line=3'><pre>     belongs_to :user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_role.rb&line=4'><pre>     validates_inclusion_of :name, :in => %w{ root standard public}, :message => "Invalid Role"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/user_role.rb&line=5'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_ballot_styles_helper_rb"> app/helpers/ballot_styles_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/ballot_styles_helper.rb&line=1'><pre>   module BallotStylesHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/ballot_styles_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ballots_aiga_ballot_config_rb"> app/ballots/aiga/ballot_config.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/aiga/ballot_config.rb&line=1'><pre>   require 'ttv/abstract_ballot'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/aiga/ballot_config.rb&line=2'><pre>   require 'prawn'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/aiga/ballot_config.rb&line=3'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/aiga/ballot_config.rb&line=4'><pre>   module AigaBallot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/aiga/ballot_config.rb&line=5'><pre>     include DefaultBallot</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/aiga/ballot_config.rb&line=6'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ballots/aiga/ballot_config.rb&line=7'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_ability_rb"> app/models/ability.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=1'><pre>   class Ability</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=2'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=3'><pre>     include CanCan::Ability</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=4'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=5'><pre>     def initialize(user)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=6'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=7'><pre>       unless user</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=8'><pre>         user =  User.new</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=9'><pre>         user.roles << UserRole.new(:name => 'public')</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=10'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=11'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=12'><pre>       if user.role?(:root)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=13'><pre>          can :manage, :all</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=14'><pre>        elsif user.role?(:standard)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=15'><pre>         can [:manage], [Election]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=16'><pre>         # can [:read, :create, :update, :destroy], [Election]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=17'><pre>         # can [:index], [Election]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=18'><pre>       elsif user.role?(:public)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=19'><pre>         can :read, [Election]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=20'><pre>         can [:create, :register], [User]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=21'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=22'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ability.rb&line=23'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_users_helper_rb"> app/helpers/users_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/users_helper.rb&line=1'><pre>   module UsersHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/users_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_district_rb"> app/models/district.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=4'><pre>   # Table name: districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=6'><pre>   #  id               :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=7'><pre>   #  district_type_id :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=8'><pre>   #  display_name     :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=9'><pre>   #  created_at       :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=10'><pre>   #  updated_at       :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=11'><pre>   #  ident            :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=12'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=13'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=14'><pre>   class District < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=15'><pre>     has_and_belongs_to_many :district_sets</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=16'><pre>     has_and_belongs_to_many :precincts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=17'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=18'><pre>     has_many :contests, :order => :display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=19'><pre>     has_many :questions, :order => :display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=20'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=21'><pre>     belongs_to :district_type</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=22'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=23'><pre>     attr_accessible :district_type, :display_name, :district_type_id, :ident</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=24'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=25'><pre>     attr_accessor :importId, :importPrecincts # for xml import</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=26'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=27'><pre>     validates_presence_of :display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=28'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=29'><pre>     validates_presence_of :ident</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=30'><pre>     validates_uniqueness_of :ident, :message => "Non-unique district ident attempted: {{value}}."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=31'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=32'><pre>     # Make sure that ident is not nil. If it is, create a unique one.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=33'><pre>     def before_validation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=34'><pre>       if self.blank? || self.ident.blank?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=35'><pre>         self.ident = "dist-#{ActiveSupport::SecureRandom.hex}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=36'><pre>         self.save!</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=37'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=38'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=39'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=40'><pre>     # we assume election has preloaded the contents/questions</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=41'><pre>     def contestsForElection(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=42'><pre>       return election.contests.select { |c| c.district_id == self.id }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=43'><pre>   #    Contest.find_all_by_election_id_and_district_id(election.id, self.id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=44'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=45'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=46'><pre>     def questionsForElection(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=47'><pre>       return election.questions.select { |q| q.district_id == self.id }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=48'><pre>   #    Question.find_all_by_election_id_and_district_id(election.id, self.id)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=49'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=50'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district.rb&line=51'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_district_set_rb"> app/models/district_set.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=4'><pre>   # Table name: district_sets</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=6'><pre>   #  id             :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=7'><pre>   #  display_name   :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=8'><pre>   #  secondary_name :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=9'><pre>   #  created_at     :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=10'><pre>   #  updated_at     :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=11'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=12'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=13'><pre>   class DistrictSet < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=14'><pre>     has_and_belongs_to_many :districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=15'><pre>     has_many :elections</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=16'><pre>     has_attached_file :icon, :styles => { :medium => "300x300>", :thumb => "100x100>" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=17'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=18'><pre>     # returns all precincts in this district set</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=19'><pre>     def precincts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=20'><pre>       precinct_ids = connection.select_values( <<-eos</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=21'><pre>         SELECT DISTINCT districts_precincts.precinct_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=22'><pre>         FROM	districts_precincts, district_sets_districts</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=23'><pre>         WHERE	district_sets_districts.district_set_id = #{self.id}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=24'><pre>         AND	district_sets_districts.district_id = districts_precincts.district_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=25'><pre>       eos</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=26'><pre>       )</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=27'><pre>       Precinct.find(precinct_ids)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=28'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=29'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/district_set.rb&line=30'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_language_rb"> app/models/language.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/language.rb&line=1'><pre>   class Language < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/language.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_ttv_yaml_export_rb"> app/ttv/yaml_export.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=1'><pre>   require 'yaml'</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=2'><pre>   module TTV</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=3'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=4'><pre>     # Import Yaml-based election using standard formats, and convert as needed to Election and related objects.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=5'><pre>     class YAMLExport</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=6'><pre>       attr_reader :election, :election_hash, :audit_header_hash</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=7'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=8'><pre>     # <tt>election::</tt> Election object to be exported</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=9'><pre>       def initialize(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=10'><pre>         @elec = election</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=11'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=12'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=13'><pre>     # Do the whole export process. Main entry point. Returns Yaml object ready to be saved.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=14'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=15'><pre>       def do_export </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=16'><pre>         precinct_list_h = export_district_set(@elec)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=17'><pre>         contests_h = export_contests(@elec)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=18'><pre>         questions_h = export_questions(@elec)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=19'><pre>         @ballot_info = {"display_name" => @elec.display_name, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=20'><pre>                    "start_date" => @elec.start_date,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=21'><pre>                    "contest_list" => contests_h,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=22'><pre>                    "question_list" => questions_h,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=23'><pre>                    "precinct_list" => precinct_list_h,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=24'><pre>                    "jurisdiction_display_name" =>  @elec.display_name,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=25'><pre>                    "number_of_precincts" => precinct_list_h.length</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=26'><pre>                 }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=27'><pre>         @audit_header = {"type" => "ballot_config"} if ballot_config?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=28'><pre>         @election_hash = {"ballot_info" => @ballot_info,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=29'><pre>                     "audit_header" => @audit_header}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=30'><pre>        end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=31'><pre>    </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=32'><pre>     # Determine whether the election being exported is of type ballot_config</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=33'><pre>     #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=34'><pre>       def ballot_config?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=35'><pre>         @elec.district_set == DistrictSet.find(0)  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=36'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=37'><pre>    </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=38'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=39'><pre>   # Convert questions to a hash which can be converted to yaml directly.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=40'><pre>   # <tt>election:</tt>  Election object</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=41'><pre>   # returns: an array containing the questions which can be converted to yaml for export</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=42'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=43'><pre>       def export_questions(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=44'><pre>         questions_h = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=45'><pre>         election.questions.each {|question|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=46'><pre>           new_question_h = {"display_name" => question.display_name,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=47'><pre>                             "question" => question.question,</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=48'><pre>                             "district_ident" => @district_to_ident_map[question.requesting_district]}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=49'><pre>           questions_h << new_question_h</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=50'><pre>         }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=51'><pre>         questions_h</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=52'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=53'><pre>       </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=54'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=55'><pre>   # Convert contests to a hash which can be converted to yaml directly.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=56'><pre>   # <tt>election:</tt>  Election object</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=57'><pre>   # returns: an array containing the contests which can be converted to yaml for export</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=58'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=59'><pre>       def export_contests(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=60'><pre>         contests_h = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=61'><pre>         election.contests.each do |cont|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=62'><pre>           new_cont_h = {"display_name" => cont.display_name, </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=63'><pre>                         "candidates" => export_candidates(cont), </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=64'><pre>                         "district_ident" => @district_to_ident_map[cont.district],</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=65'><pre>                         "ident" => "cont-#{cont.id}",</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=66'><pre>                         "display_order" => cont.position}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=67'><pre>           contests_h << new_cont_h</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=68'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=69'><pre>         contests_h</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=70'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=71'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=72'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=73'><pre>   # Convert the list of candidates for a contest to a hash</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=74'><pre>   # <tt>contest::</tt>  Contest object</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=75'><pre>   # returns: an array containing the candidates for this contest, ready to be ecported to yaml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=76'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=77'><pre>       def export_candidates(a_contest)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=78'><pre>         candidates_h = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=79'><pre>         a_contest.candidates.each do |cand| </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=80'><pre>           candidates_h << {"display_name" => cand.display_name, "ident" => "cand-#{cand.id}", "party_display_name" => cand.party.display_name, "party_ident" => "party-#{cand.party.id}" }</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=81'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=82'><pre>         candidates_h</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=83'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=84'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=85'><pre>   # </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=86'><pre>   # Note in the yaml format precinct_set is pivoted into a precinct_list, and each precinct has a list</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=87'><pre>   # of districts. It's really the same information folded a different way.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=88'><pre>   # <tt>election::</tt> Election object</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=89'><pre>   # returns:: an array with all the precincts corresponding to this election  </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=90'><pre>       def export_district_set(election)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=91'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=92'><pre>   # Go through all the districts in the distrset and fill in two hashes.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=93'><pre>   # @district_to_ident_map[dist] = :dist_ident for each district that is mentioned in the districtsets associated with the election. (dist_ident</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=94'><pre>   # precincts_already_processed[prec] = an array of all the district objects that are in the indicated precinct.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=95'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=96'><pre>         @district_to_ident_map = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=97'><pre>         precinct_to_distlist = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=98'><pre>         election.district_set.districts.each do |dist|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=99'><pre>           if !@district_to_ident_map[dist]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=100'><pre>             @district_to_ident_map[dist] = "dist-#{dist.id}"          </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=101'><pre>             dist.precincts.each do |a_prec|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=102'><pre>               if !precinct_to_distlist[a_prec]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=103'><pre>                 precinct_to_distlist[a_prec] = [dist]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=104'><pre>               else</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=105'><pre>                 precinct_to_distlist[a_prec] << dist</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=106'><pre>               end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=107'><pre>             end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=108'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=109'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=110'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=111'><pre>   # Generate a hash (precinct_list_h) representing the precincts.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=112'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=113'><pre>         precinct_list_a = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=114'><pre>         precinct_to_distlist.each do |prec, districts|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=115'><pre>           precinct_h = {}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=116'><pre>           precinct_h["display_name"] = prec.display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=117'><pre>           precinct_h["ident"] = "prec-#{prec.id}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=118'><pre>           precinct_h["voting_places"] = [{"ballot_counters" => 2, "ident" => "vplace-xxx"}]</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=119'><pre>           district_list_a = []</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=120'><pre>           districts.each do |dist|</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=121'><pre>             district_h = {"display_name" => dist.display_name, "ident" => @district_to_ident_map[dist]}</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=122'><pre>             district_list_a << district_h</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=123'><pre>           end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=124'><pre>           precinct_h["district_list"] = district_list_a</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=125'><pre>           precinct_list_a << precinct_h</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=126'><pre>         end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=127'><pre>         precinct_list_a</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=128'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=129'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=130'><pre>   end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/ttv/yaml_export.rb&line=131'><pre>   </pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_questions_helper_rb"> app/helpers/questions_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/questions_helper.rb&line=1'><pre>   module QuestionsHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/questions_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_elections_helper_rb"> app/helpers/elections_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/elections_helper.rb&line=1'><pre>   module ElectionsHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/elections_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_medium_rb"> app/models/medium.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/medium.rb&line=1'><pre>   class Medium < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/medium.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_contests_helper_rb"> app/helpers/contests_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/contests_helper.rb&line=1'><pre>   module ContestsHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/contests_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_parties_helper_rb"> app/helpers/parties_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/parties_helper.rb&line=1'><pre>   module PartiesHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/parties_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_ballot_style_templates_helper_rb"> app/helpers/ballot_style_templates_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/ballot_style_templates_helper.rb&line=1'><pre>   module BallotStyleTemplatesHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/ballot_style_templates_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_party_rb"> app/models/party.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=4'><pre>   # Table name: parties</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=6'><pre>   #  id           :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=7'><pre>   #  display_name :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=8'><pre>   #  created_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=9'><pre>   #  updated_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=10'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=11'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=12'><pre>   class Party < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=13'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=14'><pre>     include ConstantCache</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=15'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=16'><pre>     cache_constants :key => :display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=17'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=18'><pre>     def idToXml</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=19'><pre>       self.display_name.downcase</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=20'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=21'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=22'><pre>     validates_presence_of :ident</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=23'><pre>     validates_uniqueness_of :ident, :message => "Non-unique Party ident attempted: {{value}}."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=24'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=25'><pre>     # Make sure that ident is not nil. If it is, create a unique one.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=26'><pre>     def before_validation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=27'><pre>       if self.blank? || self.ident.blank?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=28'><pre>         self.ident = "party-#{ActiveSupport::SecureRandom.hex}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=29'><pre>         self.save!</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=30'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=31'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=32'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=33'><pre>     def Party.xmlToId(xml)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=34'><pre>       raise "unknown party #{xml}" unless const_get(xml.constant_name)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=35'><pre>       const_get(xml.constant_name).id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=36'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=37'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/party.rb&line=38'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_voting_methods_helper_rb"> app/helpers/voting_methods_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/voting_methods_helper.rb&line=1'><pre>   module VotingMethodsHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/voting_methods_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_ballot_style_rb"> app/models/ballot_style.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ballot_style.rb&line=1'><pre>   class BallotStyle < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ballot_style.rb&line=2'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/ballot_style.rb&line=3'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_maintain_helper_rb"> app/helpers/maintain_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/maintain_helper.rb&line=1'><pre>   module MaintainHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/maintain_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_models_candidate_rb"> app/models/candidate.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=1'><pre>   # == Schema Information</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=2'><pre>   # Schema version: 20100215144641</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=3'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=4'><pre>   # Table name: candidates</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=5'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=6'><pre>   #  id           :integer         not null, primary key</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=7'><pre>   #  display_name :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=8'><pre>   #  party_id     :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=9'><pre>   #  contest_id   :integer</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=10'><pre>   #  created_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=11'><pre>   #  updated_at   :datetime</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=12'><pre>   #  ident        :string(255)</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=13'><pre>   #</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=14'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=15'><pre>   class Candidate < ActiveRecord::Base</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=16'><pre>     belongs_to :contest</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=17'><pre>     belongs_to :party</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=18'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=19'><pre>     attr_accessible :order, :ident</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=20'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=21'><pre>     validates_presence_of :ident</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=22'><pre>     validates_uniqueness_of :ident, :message => "Non-unique candidate ident attempted: {{value}}."</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=23'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=24'><pre>     # Make sure that ident is not nil. If it is, create a unique one.</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=25'><pre>     def before_validation</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=26'><pre>       if self.blank? || self.ident.blank?</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=27'><pre>         self.ident = "cand-#{ActiveSupport::SecureRandom.hex}"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=28'><pre>         self.save!</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=29'><pre>       end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=30'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=31'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=32'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=33'><pre>     attr_accessible :display_name, :party_id, :contest_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=34'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=35'><pre>     validates_presence_of :display_name</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=36'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=37'><pre>     # default values, should not be all republican/democrat</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=38'><pre>     def after_initialize</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=39'><pre>     #  write_attribute(:party_id, rand(3)) if !party_id</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=40'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=41'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=42'><pre>     def validate</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=43'><pre>      # errors.add(:display_name , "must start with an A") unless display_name.start_with? "A"</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=44'><pre>     end</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=45'><pre>     </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=46'><pre>   </pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/models/candidate.rb&line=47'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

  <h2 id="app_helpers_languages_helper_rb"> app/helpers/languages_helper.rb</h2>
  <div class="rcov_overflow">
    <table class="rcov_code">
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/languages_helper.rb&line=1'><pre>   module LanguagesHelper</pre></a></td>
      </tr>
    
      <tr>
        
        <td class="rcov_run"><a href='txmt://open/?url=file:///Users/tom/TrustTheVote/ElectionManager/app/helpers/languages_helper.rb&line=2'><pre>   end</pre></a></td>
      </tr>
    
    </table>
  </div>

<p>Generated on Sat Jun 19 00:19:24 -0400 2010</p>	

    </div>
  </body>
</html>
